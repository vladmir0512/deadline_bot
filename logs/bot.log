2025-12-16 13:25:15,786 - deadline_bot - INFO - healthcheck.py:118 - Health check server created
2025-12-16 13:25:15,788 - deadline_bot - INFO - healthcheck.py:129 - Starting health check server on 0.0.0.0:8080
2025-12-16 13:25:15,791 - deadline_bot - INFO - healthcheck.py:137 - Health check server started on http://0.0.0.0:8080
2025-12-16 13:25:19,131 - deadline_bot - INFO - bot.py:65 - Загружено 2 администраторов
2025-12-16 13:25:19,149 - tzlocal - DEBUG - unix.py:120 - /etc/localtime found
2025-12-16 13:25:19,152 - tzlocal - DEBUG - unix.py:136 - 1 found:
 {'/etc/localtime is a symlink to': 'Etc/UTC'}
2025-12-16 13:25:19,154 - asyncio - DEBUG - selector_events.py:54 - Using selector: EpollSelector
2025-12-16 13:25:19,156 - deadline_bot - ERROR - bot.py:1015 - Критическая ошибка: name 'DATABASE_URL' is not defined
Traceback (most recent call last):
  File "/app/bot.py", line 1011, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/bot.py", line 954, in main
    "database_url": DATABASE_URL,
                    ^^^^^^^^^^^^
NameError: name 'DATABASE_URL' is not defined
2025-12-16 13:25:24,112 - deadline_bot - INFO - bot.py:65 - Загружено 2 администраторов
2025-12-16 13:25:24,132 - tzlocal - DEBUG - unix.py:120 - /etc/localtime found
2025-12-16 13:25:24,135 - tzlocal - DEBUG - unix.py:136 - 1 found:
 {'/etc/localtime is a symlink to': 'Etc/UTC'}
2025-12-16 13:25:24,137 - asyncio - DEBUG - selector_events.py:54 - Using selector: EpollSelector
2025-12-16 13:25:24,139 - deadline_bot - ERROR - bot.py:1015 - Критическая ошибка: name 'DATABASE_URL' is not defined
Traceback (most recent call last):
  File "/app/bot.py", line 1011, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/bot.py", line 954, in main
    "database_url": DATABASE_URL,
                    ^^^^^^^^^^^^
NameError: name 'DATABASE_URL' is not defined
2025-12-16 13:25:29,369 - deadline_bot - INFO - bot.py:65 - Загружено 2 администраторов
2025-12-16 13:25:29,389 - tzlocal - DEBUG - unix.py:120 - /etc/localtime found
2025-12-16 13:25:29,392 - tzlocal - DEBUG - unix.py:136 - 1 found:
 {'/etc/localtime is a symlink to': 'Etc/UTC'}
2025-12-16 13:25:29,395 - asyncio - DEBUG - selector_events.py:54 - Using selector: EpollSelector
2025-12-16 13:25:29,396 - deadline_bot - ERROR - bot.py:1015 - Критическая ошибка: name 'DATABASE_URL' is not defined
Traceback (most recent call last):
  File "/app/bot.py", line 1011, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/bot.py", line 954, in main
    "database_url": DATABASE_URL,
                    ^^^^^^^^^^^^
NameError: name 'DATABASE_URL' is not defined
2025-12-16 13:25:34,518 - deadline_bot - INFO - bot.py:65 - Загружено 2 администраторов
2025-12-16 13:25:34,537 - tzlocal - DEBUG - unix.py:120 - /etc/localtime found
2025-12-16 13:25:34,542 - tzlocal - DEBUG - unix.py:136 - 1 found:
 {'/etc/localtime is a symlink to': 'Etc/UTC'}
2025-12-16 13:25:34,547 - asyncio - DEBUG - selector_events.py:54 - Using selector: EpollSelector
2025-12-16 13:25:34,550 - deadline_bot - ERROR - bot.py:1015 - Критическая ошибка: name 'DATABASE_URL' is not defined
Traceback (most recent call last):
  File "/app/bot.py", line 1011, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/bot.py", line 954, in main
    "database_url": DATABASE_URL,
                    ^^^^^^^^^^^^
NameError: name 'DATABASE_URL' is not defined
2025-12-16 13:25:40,129 - deadline_bot - INFO - bot.py:65 - Загружено 2 администраторов
2025-12-16 13:25:40,148 - tzlocal - DEBUG - unix.py:120 - /etc/localtime found
2025-12-16 13:25:40,151 - tzlocal - DEBUG - unix.py:136 - 1 found:
 {'/etc/localtime is a symlink to': 'Etc/UTC'}
2025-12-16 13:25:40,153 - asyncio - DEBUG - selector_events.py:54 - Using selector: EpollSelector
2025-12-16 13:25:40,155 - deadline_bot - ERROR - bot.py:1015 - Критическая ошибка: name 'DATABASE_URL' is not defined
Traceback (most recent call last):
  File "/app/bot.py", line 1011, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/bot.py", line 954, in main
    "database_url": DATABASE_URL,
                    ^^^^^^^^^^^^
NameError: name 'DATABASE_URL' is not defined
2025-12-16 13:25:46,609 - deadline_bot - INFO - bot.py:65 - Загружено 2 администраторов
2025-12-16 13:25:46,627 - tzlocal - DEBUG - unix.py:120 - /etc/localtime found
2025-12-16 13:25:46,630 - tzlocal - DEBUG - unix.py:136 - 1 found:
 {'/etc/localtime is a symlink to': 'Etc/UTC'}
2025-12-16 13:25:46,632 - asyncio - DEBUG - selector_events.py:54 - Using selector: EpollSelector
2025-12-16 13:25:46,633 - deadline_bot - ERROR - bot.py:1015 - Критическая ошибка: name 'DATABASE_URL' is not defined
Traceback (most recent call last):
  File "/app/bot.py", line 1011, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/bot.py", line 954, in main
    "database_url": DATABASE_URL,
                    ^^^^^^^^^^^^
NameError: name 'DATABASE_URL' is not defined
2025-12-16 13:25:54,673 - deadline_bot - INFO - bot.py:65 - Загружено 2 администраторов
2025-12-16 13:25:54,692 - tzlocal - DEBUG - unix.py:120 - /etc/localtime found
2025-12-16 13:25:54,695 - tzlocal - DEBUG - unix.py:136 - 1 found:
 {'/etc/localtime is a symlink to': 'Etc/UTC'}
2025-12-16 13:25:54,697 - asyncio - DEBUG - selector_events.py:54 - Using selector: EpollSelector
2025-12-16 13:25:54,698 - deadline_bot - ERROR - bot.py:1015 - Критическая ошибка: name 'DATABASE_URL' is not defined
Traceback (most recent call last):
  File "/app/bot.py", line 1011, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/bot.py", line 954, in main
    "database_url": DATABASE_URL,
                    ^^^^^^^^^^^^
NameError: name 'DATABASE_URL' is not defined
2025-12-16 13:26:05,941 - deadline_bot - INFO - bot.py:65 - Загружено 2 администраторов
2025-12-16 13:26:05,962 - tzlocal - DEBUG - unix.py:120 - /etc/localtime found
2025-12-16 13:26:05,965 - tzlocal - DEBUG - unix.py:136 - 1 found:
 {'/etc/localtime is a symlink to': 'Etc/UTC'}
2025-12-16 13:26:05,967 - asyncio - DEBUG - selector_events.py:54 - Using selector: EpollSelector
2025-12-16 13:26:05,969 - deadline_bot - ERROR - bot.py:1015 - Критическая ошибка: name 'DATABASE_URL' is not defined
Traceback (most recent call last):
  File "/app/bot.py", line 1011, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/bot.py", line 954, in main
    "database_url": DATABASE_URL,
                    ^^^^^^^^^^^^
NameError: name 'DATABASE_URL' is not defined
2025-12-16 13:26:23,631 - deadline_bot - INFO - bot.py:65 - Загружено 2 администраторов
2025-12-16 13:26:23,652 - tzlocal - DEBUG - unix.py:120 - /etc/localtime found
2025-12-16 13:26:23,655 - tzlocal - DEBUG - unix.py:136 - 1 found:
 {'/etc/localtime is a symlink to': 'Etc/UTC'}
2025-12-16 13:26:23,657 - asyncio - DEBUG - selector_events.py:54 - Using selector: EpollSelector
2025-12-16 13:26:23,659 - deadline_bot - ERROR - bot.py:1015 - Критическая ошибка: name 'DATABASE_URL' is not defined
Traceback (most recent call last):
  File "/app/bot.py", line 1011, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/bot.py", line 954, in main
    "database_url": DATABASE_URL,
                    ^^^^^^^^^^^^
NameError: name 'DATABASE_URL' is not defined
2025-12-16 13:26:43,854 - aiohttp.access - INFO - web_log.py:214 - 172.18.0.1 [16/Dec/2025:13:26:43 +0000] "GET / HTTP/1.1" 404 174 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 OPR/124.0.0.0 (Edition Yx GX)"
2025-12-16 13:26:44,092 - aiohttp.access - INFO - web_log.py:214 - 172.18.0.1 [16/Dec/2025:13:26:44 +0000] "GET /favicon.ico HTTP/1.1" 404 174 "http://localhost:8081/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 OPR/124.0.0.0 (Edition Yx GX)"
2025-12-16 13:26:54,195 - deadline_bot - INFO - bot.py:65 - Загружено 2 администраторов
2025-12-16 13:26:54,216 - tzlocal - DEBUG - unix.py:120 - /etc/localtime found
2025-12-16 13:26:54,219 - tzlocal - DEBUG - unix.py:136 - 1 found:
 {'/etc/localtime is a symlink to': 'Etc/UTC'}
2025-12-16 13:26:54,221 - asyncio - DEBUG - selector_events.py:54 - Using selector: EpollSelector
2025-12-16 13:26:54,223 - deadline_bot - ERROR - bot.py:1015 - Критическая ошибка: name 'DATABASE_URL' is not defined
Traceback (most recent call last):
  File "/app/bot.py", line 1011, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/bot.py", line 954, in main
    "database_url": DATABASE_URL,
                    ^^^^^^^^^^^^
NameError: name 'DATABASE_URL' is not defined
2025-12-16 13:27:50,220 - deadline_bot - INFO - bot.py:71 - Загружено 2 администраторов
2025-12-16 13:27:50,239 - tzlocal - DEBUG - unix.py:120 - /etc/localtime found
2025-12-16 13:27:50,243 - tzlocal - DEBUG - unix.py:136 - 1 found:
 {'/etc/localtime is a symlink to': 'Etc/UTC'}
2025-12-16 13:27:50,245 - asyncio - DEBUG - selector_events.py:54 - Using selector: EpollSelector
2025-12-16 13:27:50,247 - deadline_bot - INFO - logging_config.py:81 - ==================================================
2025-12-16 13:27:50,248 - deadline_bot - INFO - logging_config.py:82 - DEADLINE BOT STARTING UP
2025-12-16 13:27:50,249 - deadline_bot - INFO - logging_config.py:83 - ==================================================
2025-12-16 13:27:50,251 - deadline_bot - INFO - logging_config.py:84 - Database URL: sqlite:///data/deadlines.db
2025-12-16 13:27:50,252 - deadline_bot - INFO - logging_config.py:85 - Telegram Bot Token: Configured
2025-12-16 13:27:50,253 - deadline_bot - INFO - logging_config.py:86 - Yonote API Key: Configured
2025-12-16 13:27:50,255 - deadline_bot - INFO - logging_config.py:87 - Update Interval: 30 minutes
2025-12-16 13:27:50,256 - deadline_bot - INFO - logging_config.py:88 - Log Level: DEBUG
2025-12-16 13:27:50,257 - deadline_bot - INFO - logging_config.py:89 - ==================================================
2025-12-16 13:27:50,258 - deadline_bot - INFO - bot.py:969 - Инициализация базы данных...
2025-12-16 13:27:50,460 - deadline_bot - INFO - bot.py:972 - База данных инициализирована
2025-12-16 13:27:50,462 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-16 13:27:50,464 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-16 13:27:50,465 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-16 13:27:50,467 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-16 13:27:50,468 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-16 13:27:50,469 - deadline_bot - INFO - bot.py:1003 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-16 13:27:50,470 - deadline_bot - INFO - bot.py:1006 - Запуск бота...
2025-12-16 13:27:50,472 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-16 13:27:50,473 - apscheduler.scheduler - DEBUG - base.py:1151 - Looking for jobs to run
2025-12-16 13:27:50,474 - apscheduler.scheduler - DEBUG - base.py:1258 - Next wakeup is due at 2025-12-16 13:57:50.462551+00:00 (in 1799.988181 seconds)
2025-12-16 13:27:50,684 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-16 16:28:43,055 - deadline_bot - INFO - bot.py:71 - Загружено 2 администраторов
2025-12-16 16:29:13,378 - deadline_bot - INFO - bot.py:71 - Загружено 2 администраторов
2025-12-16 13:34:54,158 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747088 is handled. Duration 315 ms by bot id=8358666814
2025-12-16 13:34:56,079 - deadline_bot - INFO - bot.py:187 - Пользователь 929644995 зарегистрирован/обновлён
2025-12-16 13:34:56,082 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747089 is handled. Duration 182 ms by bot id=8358666814
2025-12-16 13:35:08,053 - aiohttp.access - INFO - web_log.py:214 - 172.18.0.1 [16/Dec/2025:13:35:08 +0000] "GET / HTTP/1.1" 404 174 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 OPR/124.0.0.0 (Edition Yx GX)"
2025-12-16 13:35:08,882 - aiohttp.access - INFO - web_log.py:214 - 172.18.0.1 [16/Dec/2025:13:35:08 +0000] "GET / HTTP/1.1" 404 174 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 OPR/124.0.0.0 (Edition Yx GX)"
2025-12-16 13:35:23,996 - deadline_bot - ERROR - healthcheck.py:86 - Database health check failed: Textual SQL expression 'SELECT 1' should be explicitly declared as text('SELECT 1')
2025-12-16 13:35:23,999 - aiohttp.access - INFO - web_log.py:214 - 172.18.0.1 [16/Dec/2025:13:35:23 +0000] "GET /health HTTP/1.1" 503 504 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 OPR/124.0.0.0 (Edition Yx GX)"
2025-12-16 13:36:47,706 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747090 is handled. Duration 92 ms by bot id=8358666814
2025-12-16 13:36:54,548 - deadline_bot - INFO - bot.py:254 - Пользователь 929644995 привязал ник: VJ_Games
2025-12-16 13:36:54,553 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747091 is handled. Duration 136 ms by bot id=8358666814
2025-12-16 13:37:07,335 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-16 13:37:07,336 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-16 13:37:07,538 - scripts.sync_deadlines - INFO - sync_deadlines.py:98 - Получено 3 дедлайнов из Yonote для пользователя 1
2025-12-16 13:37:07,585 - scripts.sync_deadlines - INFO - sync_deadlines.py:215 - [OK] Создан новый дедлайн: просто тест оповещения (ID: csv_39761434)
2025-12-16 13:37:07,597 - scripts.sync_deadlines - INFO - sync_deadlines.py:215 - [OK] Создан новый дедлайн: Тест на жопу абобы (ID: csv_48276318)
2025-12-16 13:37:07,606 - scripts.sync_deadlines - INFO - sync_deadlines.py:215 - [OK] Создан новый дедлайн: стрей кидс (ID: csv_33504140)
2025-12-16 13:37:07,640 - scripts.sync_deadlines - INFO - sync_deadlines.py:221 - Синхронизировано дедлайнов для пользователя 1: создано 3, обновлено 0
2025-12-16 13:37:07,641 - deadline_bot - INFO - bot.py:288 - Автоматическая синхронизация для пользователя 1: создано 3, обновлено 0
2025-12-16 13:37:07,652 - deadline_bot - DEBUG - bot.py:309 - Дедлайн 'Тест на жопу абобы' без timezone - добавлен UTC
2025-12-16 13:37:07,758 - deadline_bot - INFO - bot.py:406 - Пользователь 929644995 запросил список дедлайнов: 1 шт.
2025-12-16 13:37:07,762 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747092 is handled. Duration 430 ms by bot id=8358666814
2025-12-16 13:37:19,752 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747093 is handled. Duration 105 ms by bot id=8358666814
2025-12-16 13:37:28,296 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-16 13:37:28,298 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-16 13:37:28,445 - scripts.sync_deadlines - INFO - sync_deadlines.py:98 - Получено 3 дедлайнов из Yonote для пользователя 1
2025-12-16 13:37:28,453 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'просто тест оповещения': дата изменена с 2025-12-16 09:04:00 на 2025-12-16 09:04:00+00:00
2025-12-16 13:37:28,454 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: просто тест оповещения (ID: csv_39761434)
2025-12-16 13:37:28,458 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'Тест на жопу абобы': дата изменена с 2025-12-31 00:00:00 на 2025-12-31 00:00:00+00:00
2025-12-16 13:37:28,460 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: Тест на жопу абобы (ID: csv_48276318)
2025-12-16 13:37:28,465 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'стрей кидс': дата изменена с 2025-12-07 00:00:00 на 2025-12-07 00:00:00+00:00
2025-12-16 13:37:28,466 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: стрей кидс (ID: csv_33504140)
2025-12-16 13:37:28,485 - scripts.sync_deadlines - INFO - sync_deadlines.py:221 - Синхронизировано дедлайнов для пользователя 1: создано 0, обновлено 3
2025-12-16 13:37:28,487 - deadline_bot - INFO - bot.py:524 - Проверка уведомлений после ручной синхронизации для пользователя 1
2025-12-16 13:37:28,493 - notifications - INFO - notifications.py:352 - Проверка уведомлений завершена: пользователей уведомлено 0, отправлено уведомлений 0
2025-12-16 13:37:28,607 - deadline_bot - INFO - bot.py:543 - Пользователь 929644995 выполнил ручную синхронизацию: создано 0, обновлено 3
2025-12-16 13:37:28,608 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747094 is handled. Duration 465 ms by bot id=8358666814
2025-12-16 13:37:37,504 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-16 13:37:37,506 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-16 13:37:37,629 - scripts.sync_deadlines - INFO - sync_deadlines.py:98 - Получено 3 дедлайнов из Yonote для пользователя 1
2025-12-16 13:37:37,637 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'просто тест оповещения': дата изменена с 2025-12-16 09:04:00 на 2025-12-16 09:04:00+00:00
2025-12-16 13:37:37,638 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: просто тест оповещения (ID: csv_39761434)
2025-12-16 13:37:37,643 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'Тест на жопу абобы': дата изменена с 2025-12-31 00:00:00 на 2025-12-31 00:00:00+00:00
2025-12-16 13:37:37,645 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: Тест на жопу абобы (ID: csv_48276318)
2025-12-16 13:37:37,650 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'стрей кидс': дата изменена с 2025-12-07 00:00:00 на 2025-12-07 00:00:00+00:00
2025-12-16 13:37:37,651 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: стрей кидс (ID: csv_33504140)
2025-12-16 13:37:37,668 - scripts.sync_deadlines - INFO - sync_deadlines.py:221 - Синхронизировано дедлайнов для пользователя 1: создано 0, обновлено 3
2025-12-16 13:37:37,670 - deadline_bot - INFO - bot.py:288 - Автоматическая синхронизация для пользователя 1: создано 0, обновлено 3
2025-12-16 13:37:37,679 - deadline_bot - DEBUG - bot.py:309 - Дедлайн 'Тест на жопу абобы' без timezone - добавлен UTC
2025-12-16 13:37:37,792 - deadline_bot - INFO - bot.py:406 - Пользователь 929644995 запросил список дедлайнов: 1 шт.
2025-12-16 13:37:37,794 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747095 is handled. Duration 294 ms by bot id=8358666814
2025-12-16 13:37:59,831 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747096 is handled. Duration 139 ms by bot id=8358666814
2025-12-16 13:38:02,812 - deadline_bot - INFO - bot.py:448 - Пользователь 929644995 включил подписку
2025-12-16 13:38:02,814 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747097 is handled. Duration 162 ms by bot id=8358666814
2025-12-16 13:38:18,644 - notifications - DEBUG - notifications.py:323 - Проверка половины срока для пользователя 929644995: найдено 0 дедлайнов на половине срока
2025-12-16 13:38:18,646 - notifications - INFO - notifications.py:352 - Проверка уведомлений завершена: пользователей уведомлено 0, отправлено уведомлений 0
2025-12-16 13:38:18,756 - deadline_bot - INFO - bot.py:886 - Администратор 929644995 выполнил ручную проверку уведомлений: уведомлено 0 пользователей, отправлено 0 уведомлений
2025-12-16 13:38:18,758 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747098 is handled. Duration 246 ms by bot id=8358666814
2025-12-16 13:41:11,284 - notifications - DEBUG - notifications.py:323 - Проверка половины срока для пользователя 929644995: найдено 0 дедлайнов на половине срока
2025-12-16 13:41:11,285 - notifications - INFO - notifications.py:352 - Проверка уведомлений завершена: пользователей уведомлено 0, отправлено уведомлений 0
2025-12-16 13:41:11,408 - deadline_bot - INFO - bot.py:886 - Администратор 929644995 выполнил ручную проверку уведомлений: уведомлено 0 пользователей, отправлено 0 уведомлений
2025-12-16 13:41:11,410 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747099 is handled. Duration 265 ms by bot id=8358666814
2025-12-16 13:41:14,724 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-16 13:41:14,725 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-16 13:41:14,846 - scripts.sync_deadlines - INFO - sync_deadlines.py:98 - Получено 3 дедлайнов из Yonote для пользователя 1
2025-12-16 13:41:14,856 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'просто тест оповещения': дата изменена с 2025-12-16 09:04:00 на 2025-12-16 09:04:00+00:00
2025-12-16 13:41:14,858 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: просто тест оповещения (ID: csv_39761434)
2025-12-16 13:41:14,863 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'Тест на жопу абобы': дата изменена с 2025-12-31 00:00:00 на 2025-12-31 00:00:00+00:00
2025-12-16 13:41:14,865 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: Тест на жопу абобы (ID: csv_48276318)
2025-12-16 13:41:14,870 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'стрей кидс': дата изменена с 2025-12-07 00:00:00 на 2025-12-07 00:00:00+00:00
2025-12-16 13:41:14,872 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: стрей кидс (ID: csv_33504140)
2025-12-16 13:41:14,891 - scripts.sync_deadlines - INFO - sync_deadlines.py:221 - Синхронизировано дедлайнов для пользователя 1: создано 0, обновлено 3
2025-12-16 13:41:14,892 - deadline_bot - INFO - bot.py:288 - Автоматическая синхронизация для пользователя 1: создано 0, обновлено 3
2025-12-16 13:41:14,902 - deadline_bot - DEBUG - bot.py:309 - Дедлайн 'Тест на жопу абобы' без timezone - добавлен UTC
2025-12-16 13:41:15,093 - deadline_bot - INFO - bot.py:406 - Пользователь 929644995 запросил список дедлайнов: 1 шт.
2025-12-16 13:41:15,095 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747100 is handled. Duration 376 ms by bot id=8358666814
2025-12-16 13:41:21,041 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-16 13:41:21,043 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-16 13:41:21,185 - scripts.sync_deadlines - INFO - sync_deadlines.py:98 - Получено 3 дедлайнов из Yonote для пользователя 1
2025-12-16 13:41:21,199 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'просто тест оповещения': дата изменена с 2025-12-16 09:04:00 на 2025-12-16 09:04:00+00:00
2025-12-16 13:41:21,201 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: просто тест оповещения (ID: csv_39761434)
2025-12-16 13:41:21,208 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'Тест на жопу абобы': дата изменена с 2025-12-31 00:00:00 на 2025-12-31 00:00:00+00:00
2025-12-16 13:41:21,209 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: Тест на жопу абобы (ID: csv_48276318)
2025-12-16 13:41:21,213 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'стрей кидс': дата изменена с 2025-12-07 00:00:00 на 2025-12-07 00:00:00+00:00
2025-12-16 13:41:21,215 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: стрей кидс (ID: csv_33504140)
2025-12-16 13:41:21,230 - scripts.sync_deadlines - INFO - sync_deadlines.py:221 - Синхронизировано дедлайнов для пользователя 1: создано 0, обновлено 3
2025-12-16 13:41:21,231 - deadline_bot - INFO - bot.py:524 - Проверка уведомлений после ручной синхронизации для пользователя 1
2025-12-16 13:41:21,245 - notifications - DEBUG - notifications.py:323 - Проверка половины срока для пользователя 929644995: найдено 0 дедлайнов на половине срока
2025-12-16 13:41:21,246 - notifications - INFO - notifications.py:352 - Проверка уведомлений завершена: пользователей уведомлено 0, отправлено уведомлений 0
2025-12-16 13:41:21,342 - deadline_bot - INFO - bot.py:543 - Пользователь 929644995 выполнил ручную синхронизацию: создано 0, обновлено 3
2025-12-16 13:41:21,344 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747101 is handled. Duration 408 ms by bot id=8358666814
2025-12-16 13:41:34,385 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-16 13:41:34,386 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-16 13:41:34,527 - scripts.sync_deadlines - INFO - sync_deadlines.py:98 - Получено 3 дедлайнов из Yonote для пользователя 1
2025-12-16 13:41:34,536 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'просто тест оповещения': дата изменена с 2025-12-16 09:04:00 на 2025-12-16 09:04:00+00:00
2025-12-16 13:41:34,537 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: просто тест оповещения (ID: csv_39761434)
2025-12-16 13:41:34,541 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'Тест на жопу абобы': дата изменена с 2025-12-31 00:00:00 на 2025-12-31 00:00:00+00:00
2025-12-16 13:41:34,542 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: Тест на жопу абобы (ID: csv_48276318)
2025-12-16 13:41:34,546 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'стрей кидс': дата изменена с 2025-12-07 00:00:00 на 2025-12-07 00:00:00+00:00
2025-12-16 13:41:34,548 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: стрей кидс (ID: csv_33504140)
2025-12-16 13:41:34,564 - scripts.sync_deadlines - INFO - sync_deadlines.py:221 - Синхронизировано дедлайнов для пользователя 1: создано 0, обновлено 3
2025-12-16 13:41:34,566 - deadline_bot - INFO - bot.py:718 - Синхронизация для /test_halfway: создано 0, обновлено 3
2025-12-16 13:41:34,680 - deadline_bot - INFO - bot.py:844 - Администратор 929644995 проверил напоминания за половину срока: найдено 0 из 1 дедлайнов
2025-12-16 13:41:34,682 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747102 is handled. Duration 407 ms by bot id=8358666814
2025-12-16 13:41:51,024 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-16 13:41:51,026 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-16 13:41:51,143 - scripts.sync_deadlines - INFO - sync_deadlines.py:98 - Получено 3 дедлайнов из Yonote для пользователя 1
2025-12-16 13:41:51,151 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'Тест на жопу абобы': дата изменена с 2025-12-31 00:00:00 на 2025-12-31 00:00:00+00:00
2025-12-16 13:41:51,153 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: Тест на жопу абобы (ID: csv_48276318)
2025-12-16 13:41:51,159 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'просто тест оповещения': дата изменена с 2025-12-16 09:04:00 на 2025-12-16 16:45:00+00:00
2025-12-16 13:41:51,161 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: просто тест оповещения (ID: csv_-3207366)
2025-12-16 13:41:51,165 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'стрей кидс': дата изменена с 2025-12-07 00:00:00 на 2025-12-07 00:00:00+00:00
2025-12-16 13:41:51,166 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: стрей кидс (ID: csv_33504140)
2025-12-16 13:41:51,183 - scripts.sync_deadlines - INFO - sync_deadlines.py:221 - Синхронизировано дедлайнов для пользователя 1: создано 0, обновлено 3
2025-12-16 13:41:51,185 - deadline_bot - INFO - bot.py:718 - Синхронизация для /test_halfway: создано 0, обновлено 3
2025-12-16 13:41:51,344 - deadline_bot - INFO - bot.py:844 - Администратор 929644995 проверил напоминания за половину срока: найдено 0 из 2 дедлайнов
2025-12-16 13:41:51,346 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747103 is handled. Duration 416 ms by bot id=8358666814
2025-12-16 13:42:04,093 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-16 13:42:04,095 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-16 13:42:04,245 - scripts.sync_deadlines - INFO - sync_deadlines.py:98 - Получено 3 дедлайнов из Yonote для пользователя 1
2025-12-16 13:42:04,258 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'Тест на жопу абобы': дата изменена с 2025-12-31 00:00:00 на 2025-12-31 00:00:00+00:00
2025-12-16 13:42:04,260 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: Тест на жопу абобы (ID: csv_48276318)
2025-12-16 13:42:04,270 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'просто тест оповещения': дата изменена с 2025-12-16 16:45:00 на 2025-12-16 16:45:00+00:00
2025-12-16 13:42:04,272 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: просто тест оповещения (ID: csv_-3207366)
2025-12-16 13:42:04,279 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'стрей кидс': дата изменена с 2025-12-07 00:00:00 на 2025-12-07 00:00:00+00:00
2025-12-16 13:42:04,281 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: стрей кидс (ID: csv_33504140)
2025-12-16 13:42:04,301 - scripts.sync_deadlines - INFO - sync_deadlines.py:221 - Синхронизировано дедлайнов для пользователя 1: создано 0, обновлено 3
2025-12-16 13:42:04,303 - deadline_bot - INFO - bot.py:718 - Синхронизация для /test_halfway: создано 0, обновлено 3
2025-12-16 13:42:04,430 - deadline_bot - INFO - bot.py:844 - Администратор 929644995 проверил напоминания за половину срока: найдено 0 из 2 дедлайнов
2025-12-16 13:42:04,432 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747104 is handled. Duration 429 ms by bot id=8358666814
2025-12-16 13:42:29,790 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-16 13:42:29,791 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-16 13:42:29,937 - scripts.sync_deadlines - INFO - sync_deadlines.py:98 - Получено 3 дедлайнов из Yonote для пользователя 1
2025-12-16 13:42:29,944 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'Тест на жопу абобы': дата изменена с 2025-12-31 00:00:00 на 2025-12-31 00:00:00+00:00
2025-12-16 13:42:29,946 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: Тест на жопу абобы (ID: csv_48276318)
2025-12-16 13:42:29,953 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'просто тест оповещения': дата изменена с 2025-12-16 16:45:00 на 2025-12-16 16:45:00+00:00
2025-12-16 13:42:29,955 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: просто тест оповещения (ID: csv_-3207366)
2025-12-16 13:42:29,960 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'стрей кидс': дата изменена с 2025-12-07 00:00:00 на 2025-12-07 00:00:00+00:00
2025-12-16 13:42:29,961 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: стрей кидс (ID: csv_33504140)
2025-12-16 13:42:29,978 - scripts.sync_deadlines - INFO - sync_deadlines.py:221 - Синхронизировано дедлайнов для пользователя 1: создано 0, обновлено 3
2025-12-16 13:42:29,980 - deadline_bot - INFO - bot.py:718 - Синхронизация для /test_halfway: создано 0, обновлено 3
2025-12-16 13:42:30,111 - deadline_bot - INFO - bot.py:844 - Администратор 929644995 проверил напоминания за половину срока: найдено 0 из 2 дедлайнов
2025-12-16 13:42:30,113 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747105 is handled. Duration 460 ms by bot id=8358666814
2025-12-16 13:45:02,655 - aiogram.dispatcher - WARNING - dispatcher.py:515 - Received SIGTERM signal
2025-12-16 13:45:02,658 - aiogram.dispatcher - INFO - dispatcher.py:413 - Polling stopped for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-16 13:45:02,660 - aiogram.dispatcher - INFO - dispatcher.py:624 - Polling stopped
2025-12-16 13:45:02,915 - deadline_bot - INFO - bot.py:1012 - Планировщик остановлен
2025-12-16 13:45:02,917 - apscheduler.scheduler - INFO - base.py:245 - Scheduler has been shut down
2025-12-16 16:45:29,606 - deadline_bot - INFO - bot.py:71 - Загружено 2 администраторов
2025-12-16 13:47:28,033 - deadline_bot - INFO - healthcheck.py:118 - Health check server created
2025-12-16 13:47:28,034 - deadline_bot - INFO - healthcheck.py:129 - Starting health check server on 0.0.0.0:8080
2025-12-16 13:47:28,036 - deadline_bot - INFO - healthcheck.py:137 - Health check server started on http://0.0.0.0:8080
2025-12-16 13:47:31,484 - deadline_bot - INFO - bot.py:71 - Загружено 2 администраторов
2025-12-16 13:47:31,506 - tzlocal - DEBUG - unix.py:120 - /etc/localtime found
2025-12-16 13:47:31,510 - tzlocal - DEBUG - unix.py:136 - 1 found:
 {'/etc/localtime is a symlink to': 'Etc/UTC'}
2025-12-16 13:47:31,514 - asyncio - DEBUG - selector_events.py:54 - Using selector: EpollSelector
2025-12-16 13:47:31,515 - deadline_bot - INFO - logging_config.py:81 - ==================================================
2025-12-16 13:47:31,517 - deadline_bot - INFO - logging_config.py:82 - DEADLINE BOT STARTING UP
2025-12-16 13:47:31,518 - deadline_bot - INFO - logging_config.py:83 - ==================================================
2025-12-16 13:47:31,520 - deadline_bot - INFO - logging_config.py:84 - Database URL: sqlite:///data/deadlines.db
2025-12-16 13:47:31,521 - deadline_bot - INFO - logging_config.py:85 - Telegram Bot Token: Configured
2025-12-16 13:47:31,522 - deadline_bot - INFO - logging_config.py:86 - Yonote API Key: Configured
2025-12-16 13:47:31,524 - deadline_bot - INFO - logging_config.py:87 - Update Interval: 30 minutes
2025-12-16 13:47:31,525 - deadline_bot - INFO - logging_config.py:88 - Log Level: DEBUG
2025-12-16 13:47:31,526 - deadline_bot - INFO - logging_config.py:89 - ==================================================
2025-12-16 13:47:31,527 - deadline_bot - INFO - bot.py:972 - Инициализация базы данных...
2025-12-16 13:47:31,545 - deadline_bot - INFO - bot.py:975 - База данных инициализирована
2025-12-16 13:47:31,547 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-16 13:47:31,549 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-16 13:47:31,551 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-16 13:47:31,552 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-16 13:47:31,553 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-16 13:47:31,555 - deadline_bot - INFO - bot.py:1006 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-16 13:47:31,556 - deadline_bot - INFO - bot.py:1009 - Запуск бота...
2025-12-16 13:47:31,557 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-16 13:47:31,559 - apscheduler.scheduler - DEBUG - base.py:1151 - Looking for jobs to run
2025-12-16 13:47:31,560 - apscheduler.scheduler - DEBUG - base.py:1258 - Next wakeup is due at 2025-12-16 14:17:31.547531+00:00 (in 1799.986753 seconds)
2025-12-16 13:47:31,791 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-16 13:49:45,609 - deadline_bot - ERROR - healthcheck.py:86 - Database health check failed: Textual SQL expression 'SELECT 1' should be explicitly declared as text('SELECT 1')
2025-12-16 13:49:45,612 - aiohttp.access - INFO - web_log.py:214 - 172.18.0.1 [16/Dec/2025:13:49:45 +0000] "GET /health HTTP/1.1" 503 502 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 OPR/124.0.0.0 (Edition Yx GX)"
2025-12-16 13:49:46,492 - deadline_bot - ERROR - healthcheck.py:86 - Database health check failed: Textual SQL expression 'SELECT 1' should be explicitly declared as text('SELECT 1')
2025-12-16 13:49:46,494 - aiohttp.access - INFO - web_log.py:214 - 172.18.0.1 [16/Dec/2025:13:49:46 +0000] "GET /health HTTP/1.1" 503 504 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 OPR/124.0.0.0 (Edition Yx GX)"
2025-12-16 13:49:47,473 - deadline_bot - ERROR - healthcheck.py:86 - Database health check failed: Textual SQL expression 'SELECT 1' should be explicitly declared as text('SELECT 1')
2025-12-16 13:49:47,476 - aiohttp.access - INFO - web_log.py:214 - 172.18.0.1 [16/Dec/2025:13:49:47 +0000] "GET /health HTTP/1.1" 503 503 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 OPR/124.0.0.0 (Edition Yx GX)"
2025-12-16 13:49:48,132 - deadline_bot - ERROR - healthcheck.py:86 - Database health check failed: Textual SQL expression 'SELECT 1' should be explicitly declared as text('SELECT 1')
2025-12-16 13:49:48,135 - aiohttp.access - INFO - web_log.py:214 - 172.18.0.1 [16/Dec/2025:13:49:48 +0000] "GET /health HTTP/1.1" 503 504 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 OPR/124.0.0.0 (Edition Yx GX)"
2025-12-16 13:49:48,977 - deadline_bot - ERROR - healthcheck.py:86 - Database health check failed: Textual SQL expression 'SELECT 1' should be explicitly declared as text('SELECT 1')
2025-12-16 13:49:48,980 - aiohttp.access - INFO - web_log.py:214 - 172.18.0.1 [16/Dec/2025:13:49:48 +0000] "GET /health HTTP/1.1" 503 504 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 OPR/124.0.0.0 (Edition Yx GX)"
2025-12-16 13:50:23,056 - aiogram.dispatcher - WARNING - dispatcher.py:515 - Received SIGTERM signal
2025-12-16 13:50:23,058 - aiogram.dispatcher - INFO - dispatcher.py:413 - Polling stopped for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-16 13:50:23,060 - aiogram.dispatcher - INFO - dispatcher.py:624 - Polling stopped
2025-12-16 13:50:23,312 - deadline_bot - INFO - bot.py:1015 - Планировщик остановлен
2025-12-16 13:50:23,314 - apscheduler.scheduler - INFO - base.py:245 - Scheduler has been shut down
2025-12-16 13:51:33,195 - deadline_bot - INFO - healthcheck.py:118 - Health check server created
2025-12-16 13:51:33,196 - deadline_bot - INFO - healthcheck.py:129 - Starting health check server on 0.0.0.0:8080
2025-12-16 13:51:33,199 - deadline_bot - INFO - healthcheck.py:137 - Health check server started on http://0.0.0.0:8080
2025-12-16 13:51:36,432 - deadline_bot - INFO - bot.py:71 - Загружено 2 администраторов
2025-12-16 13:51:36,453 - tzlocal - DEBUG - unix.py:120 - /etc/localtime found
2025-12-16 13:51:36,457 - tzlocal - DEBUG - unix.py:136 - 1 found:
 {'/etc/localtime is a symlink to': 'Etc/UTC'}
2025-12-16 13:51:36,459 - asyncio - DEBUG - selector_events.py:54 - Using selector: EpollSelector
2025-12-16 13:51:36,461 - deadline_bot - INFO - logging_config.py:81 - ==================================================
2025-12-16 13:51:36,462 - deadline_bot - INFO - logging_config.py:82 - DEADLINE BOT STARTING UP
2025-12-16 13:51:36,463 - deadline_bot - INFO - logging_config.py:83 - ==================================================
2025-12-16 13:51:36,464 - deadline_bot - INFO - logging_config.py:84 - Database URL: sqlite:///data/deadlines.db
2025-12-16 13:51:36,465 - deadline_bot - INFO - logging_config.py:85 - Telegram Bot Token: Configured
2025-12-16 13:51:36,466 - deadline_bot - INFO - logging_config.py:86 - Yonote API Key: Configured
2025-12-16 13:51:36,468 - deadline_bot - INFO - logging_config.py:87 - Update Interval: 30 minutes
2025-12-16 13:51:36,469 - deadline_bot - INFO - logging_config.py:88 - Log Level: DEBUG
2025-12-16 13:51:36,471 - deadline_bot - INFO - logging_config.py:89 - ==================================================
2025-12-16 13:51:36,472 - deadline_bot - INFO - bot.py:972 - Инициализация базы данных...
2025-12-16 13:51:36,487 - deadline_bot - INFO - bot.py:975 - База данных инициализирована
2025-12-16 13:51:36,489 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-16 13:51:36,490 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-16 13:51:36,492 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-16 13:51:36,493 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-16 13:51:36,494 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-16 13:51:36,495 - deadline_bot - INFO - bot.py:1006 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-16 13:51:36,496 - deadline_bot - INFO - bot.py:1009 - Запуск бота...
2025-12-16 13:51:36,498 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-16 13:51:36,499 - apscheduler.scheduler - DEBUG - base.py:1151 - Looking for jobs to run
2025-12-16 13:51:36,500 - apscheduler.scheduler - DEBUG - base.py:1258 - Next wakeup is due at 2025-12-16 14:21:36.489327+00:00 (in 1799.988531 seconds)
2025-12-16 13:51:36,736 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-16 13:52:22,882 - deadline_bot - ERROR - healthcheck.py:86 - Database health check failed: Textual SQL expression 'SELECT 1' should be explicitly declared as text('SELECT 1')
2025-12-16 13:52:22,887 - aiohttp.access - INFO - web_log.py:214 - 127.0.0.1 [16/Dec/2025:13:52:22 +0000] "GET /health HTTP/1.1" 503 503 "-" "curl/8.14.1"
2025-12-16 13:52:43,734 - deadline_bot - INFO - healthcheck.py:118 - Health check server created
2025-12-16 13:52:43,735 - deadline_bot - INFO - healthcheck.py:129 - Starting health check server on 0.0.0.0:8080
2025-12-16 13:52:43,737 - deadline_bot - INFO - healthcheck.py:137 - Health check server started on http://0.0.0.0:8080
2025-12-16 13:52:52,527 - deadline_bot - ERROR - healthcheck.py:86 - Database health check failed: Textual SQL expression 'SELECT 1' should be explicitly declared as text('SELECT 1')
2025-12-16 13:52:52,530 - aiohttp.access - INFO - web_log.py:214 - 127.0.0.1 [16/Dec/2025:13:52:52 +0000] "GET /health HTTP/1.1" 503 502 "-" "curl/8.14.1"
2025-12-16 13:53:31,975 - deadline_bot - INFO - healthcheck.py:119 - Health check server created
2025-12-16 13:53:31,977 - deadline_bot - INFO - healthcheck.py:130 - Starting health check server on 0.0.0.0:8080
2025-12-16 13:53:31,979 - deadline_bot - INFO - healthcheck.py:138 - Health check server started on http://0.0.0.0:8080
2025-12-16 13:53:40,988 - aiohttp.access - INFO - web_log.py:214 - 127.0.0.1 [16/Dec/2025:13:53:40 +0000] "GET /health HTTP/1.1" 200 476 "-" "curl/8.14.1"
2025-12-16 13:53:58,207 - aiohttp.access - INFO - web_log.py:214 - 172.18.0.1 [16/Dec/2025:13:53:58 +0000] "GET /health HTTP/1.1" 200 477 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 OPR/124.0.0.0 (Edition Yx GX)"
2025-12-16 13:53:58,896 - aiohttp.access - INFO - web_log.py:214 - 172.18.0.1 [16/Dec/2025:13:53:58 +0000] "GET /health HTTP/1.1" 200 478 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 OPR/124.0.0.0 (Edition Yx GX)"
2025-12-22 01:16:12,027 - deadline_bot - INFO - bot.py:72 - Загружено 1 администраторов
2025-12-22 01:16:12,631 - deadline_bot - INFO - logging_config.py:110 - ==================================================
2025-12-22 01:16:12,633 - deadline_bot - INFO - logging_config.py:111 - DEADLINE BOT STARTING UP
2025-12-22 01:16:12,633 - deadline_bot - INFO - logging_config.py:112 - ==================================================
2025-12-22 01:16:12,634 - deadline_bot - INFO - logging_config.py:113 - Database URL: sqlite:///../data/deadlines.db
2025-12-22 01:16:12,635 - deadline_bot - INFO - logging_config.py:114 - Telegram Bot Token: Configured
2025-12-22 01:16:12,636 - deadline_bot - INFO - logging_config.py:115 - Yonote API Key: Configured
2025-12-22 01:16:12,637 - deadline_bot - INFO - logging_config.py:116 - Update Interval: 30 minutes
2025-12-22 01:16:12,637 - deadline_bot - INFO - logging_config.py:117 - Log Level: INFO
2025-12-22 01:16:12,638 - deadline_bot - INFO - logging_config.py:118 - ==================================================
2025-12-22 01:16:12,639 - deadline_bot - INFO - bot.py:1154 - Инициализация базы данных...
2025-12-22 01:16:12,665 - deadline_bot - INFO - bot.py:1157 - База данных инициализирована
2025-12-22 01:16:12,668 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-22 01:16:12,669 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-22 01:16:12,672 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-22 01:16:12,673 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-22 01:16:12,674 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-22 01:16:12,674 - deadline_bot - INFO - bot.py:1191 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-22 01:16:12,675 - deadline_bot - INFO - bot.py:1194 - Запуск бота...
2025-12-22 01:16:12,676 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-22 01:16:13,029 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-22 01:16:24,368 - deadline_bot - WARNING - bot.py:97 - Заблокированный пользователь 929644995 попытался использовать бота
2025-12-22 01:16:24,369 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747190 is handled. Duration 2 ms by bot id=8358666814
2025-12-22 01:16:30,429 - deadline_bot - WARNING - bot.py:97 - Заблокированный пользователь 929644995 попытался использовать бота
2025-12-22 01:16:30,430 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747191 is handled. Duration 2 ms by bot id=8358666814
2025-12-22 01:16:32,001 - deadline_bot - WARNING - bot.py:97 - Заблокированный пользователь 929644995 попытался использовать бота
2025-12-22 01:16:32,002 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747192 is handled. Duration 1 ms by bot id=8358666814
2025-12-22 01:16:38,829 - deadline_bot - WARNING - bot.py:97 - Заблокированный пользователь 929644995 попытался использовать бота
2025-12-22 01:16:38,830 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747193 is handled. Duration 2 ms by bot id=8358666814
2025-12-22 01:16:44,795 - deadline_bot - WARNING - bot.py:97 - Заблокированный пользователь 929644995 попытался использовать бота
2025-12-22 01:16:44,795 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747194 is handled. Duration 1 ms by bot id=8358666814
2025-12-22 01:46:12,680 - apscheduler.executors.default - INFO - base.py:179 - Running job "Синхронизация дедлайнов из Yonote и проверка уведомлений (trigger: interval[0:30:00], next run at: 2025-12-22 02:16:12 MSK)" (scheduled at 2025-12-22 01:46:12.668299+03:00)
2025-12-22 01:46:12,682 - deadline_bot - INFO - bot.py:1097 - Начало синхронизации дедлайнов из Yonote...
2025-12-22 01:46:12,711 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-22 01:46:12,712 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-22 01:46:12,949 - scripts.sync_deadlines - INFO - sync_deadlines.py:98 - Получено 3 дедлайнов из Yonote для пользователя 1
2025-12-22 01:46:12,962 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'Тест на жопу абобы': дата изменена с 2025-12-31 00:00:00 на 2025-12-31 00:00:00+00:00
2025-12-22 01:46:12,962 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: Тест на жопу абобы (ID: csv_88499386)
2025-12-22 01:46:12,965 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'просто тест оповещения': дата изменена с 2025-12-16 16:45:00 на 2025-12-16 16:45:00+00:00
2025-12-22 01:46:12,965 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: просто тест оповещения (ID: csv_-5463936)
2025-12-22 01:46:12,969 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'стрей кидс': дата изменена с 2025-12-07 00:00:00 на 2025-12-07 00:00:00+00:00
2025-12-22 01:46:12,970 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: стрей кидс (ID: csv_93194494)
2025-12-22 01:46:12,977 - scripts.sync_deadlines - INFO - sync_deadlines.py:221 - Синхронизировано дедлайнов для пользователя 1: создано 0, обновлено 3
2025-12-22 01:46:12,978 - scripts.sync_deadlines - INFO - sync_deadlines.py:259 - Синхронизация завершена: пользователей 1, создано дедлайнов 0, обновлено 3
2025-12-22 01:46:12,978 - deadline_bot - INFO - bot.py:1099 - Синхронизация завершена: пользователей 1, создано 0, обновлено 3
2025-12-22 01:46:12,979 - deadline_bot - INFO - bot.py:1105 - Начало проверки уведомлений после синхронизации...
2025-12-22 01:46:12,990 - notifications - INFO - notifications.py:352 - Проверка уведомлений завершена: пользователей уведомлено 0, отправлено уведомлений 0
2025-12-22 01:46:12,990 - deadline_bot - INFO - bot.py:1107 - Проверка уведомлений завершена: пользователей уведомлено 0, отправлено уведомлений 0
2025-12-22 01:46:12,991 - apscheduler.executors.default - INFO - base.py:203 - Job "Синхронизация дедлайнов из Yonote и проверка уведомлений (trigger: interval[0:30:00], next run at: 2025-12-22 02:16:12 MSK)" executed successfully
2025-12-22 01:58:06,678 - deadline_bot - WARNING - bot.py:97 - Заблокированный пользователь 929644995 попытался использовать бота
2025-12-22 01:58:06,679 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747195 is handled. Duration 2 ms by bot id=8358666814
2025-12-22 01:58:16,363 - aiogram.dispatcher - INFO - dispatcher.py:624 - Polling stopped
2025-12-22 01:58:16,364 - aiogram.dispatcher - ERROR - dispatcher.py:225 - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-12-22 01:58:16,365 - aiogram.dispatcher - WARNING - dispatcher.py:227 - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8358666814)
2025-12-22 01:58:16,631 - deadline_bot - INFO - bot.py:1200 - Планировщик остановлен
2025-12-22 01:58:16,632 - apscheduler.scheduler - INFO - base.py:245 - Scheduler has been shut down
2025-12-22 01:58:16,634 - aiogram.dispatcher - INFO - dispatcher.py:413 - Polling stopped for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-22 01:58:16,636 - deadline_bot - INFO - bot.py:1207 - Бот остановлен пользователем
2025-12-22 02:00:16,853 - deadline_bot - INFO - bot.py:72 - Загружено 1 администраторов
2025-12-22 02:00:17,405 - deadline_bot - INFO - logging_config.py:110 - ==================================================
2025-12-22 02:00:17,406 - deadline_bot - INFO - logging_config.py:111 - DEADLINE BOT STARTING UP
2025-12-22 02:00:17,406 - deadline_bot - INFO - logging_config.py:112 - ==================================================
2025-12-22 02:00:17,407 - deadline_bot - INFO - logging_config.py:113 - Database URL: sqlite:///../data/deadlines.db
2025-12-22 02:00:17,408 - deadline_bot - INFO - logging_config.py:114 - Telegram Bot Token: Configured
2025-12-22 02:00:17,408 - deadline_bot - INFO - logging_config.py:115 - Yonote API Key: Configured
2025-12-22 02:00:17,409 - deadline_bot - INFO - logging_config.py:116 - Update Interval: 30 minutes
2025-12-22 02:00:17,409 - deadline_bot - INFO - logging_config.py:117 - Log Level: INFO
2025-12-22 02:00:17,409 - deadline_bot - INFO - logging_config.py:118 - ==================================================
2025-12-22 02:00:17,410 - deadline_bot - INFO - bot.py:1154 - Инициализация базы данных...
2025-12-22 02:00:17,417 - deadline_bot - INFO - bot.py:1157 - База данных инициализирована
2025-12-22 02:00:17,421 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-22 02:00:17,421 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-22 02:00:17,423 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-22 02:00:17,424 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-22 02:00:17,424 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-22 02:00:17,425 - deadline_bot - INFO - bot.py:1191 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-22 02:00:17,425 - deadline_bot - INFO - bot.py:1194 - Запуск бота...
2025-12-22 02:00:17,425 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-22 02:00:17,642 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-22 02:00:22,217 - deadline_bot - INFO - bot.py:208 - Пользователь 929644995 зарегистрирован/обновлён
2025-12-22 02:00:22,218 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747196 is handled. Duration 262 ms by bot id=8358666814
2025-12-22 02:00:27,715 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747197 is handled. Duration 109 ms by bot id=8358666814
2025-12-22 02:00:33,057 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-22 02:00:33,058 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-22 02:00:33,255 - scripts.sync_deadlines - INFO - sync_deadlines.py:98 - Получено 3 дедлайнов из Yonote для пользователя 1
2025-12-22 02:00:33,263 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'Тест на жопу абобы': дата изменена с 2025-12-31 00:00:00 на 2025-12-31 00:00:00+00:00
2025-12-22 02:00:33,264 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: Тест на жопу абобы (ID: csv_53486527)
2025-12-22 02:00:33,267 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'просто тест оповещения': дата изменена с 2025-12-16 16:45:00 на 2025-12-16 16:45:00+00:00
2025-12-22 02:00:33,268 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: просто тест оповещения (ID: csv_-5839906)
2025-12-22 02:00:33,271 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'стрей кидс': дата изменена с 2025-12-07 00:00:00 на 2025-12-07 00:00:00+00:00
2025-12-22 02:00:33,271 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: стрей кидс (ID: csv_33114748)
2025-12-22 02:00:33,281 - scripts.sync_deadlines - INFO - sync_deadlines.py:221 - Синхронизировано дедлайнов для пользователя 1: создано 0, обновлено 3
2025-12-22 02:00:33,281 - deadline_bot - INFO - bot.py:316 - Синхронизация для /my_deadlines: создано 0, обновлено 3
2025-12-22 02:00:33,403 - deadline_bot - INFO - bot.py:435 - Пользователь 929644995 запросил список дедлайнов: 1 шт.
2025-12-22 02:00:33,404 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747198 is handled. Duration 499 ms by bot id=8358666814
2025-12-22 02:01:27,740 - deadline_bot - WARNING - bot.py:97 - Заблокированный пользователь 929644995 попытался использовать бота
2025-12-22 02:01:27,741 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747199 is handled. Duration 2 ms by bot id=8358666814
2025-12-22 02:01:29,403 - deadline_bot - WARNING - bot.py:97 - Заблокированный пользователь 929644995 попытался использовать бота
2025-12-22 02:01:29,403 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747200 is handled. Duration 1 ms by bot id=8358666814
2025-12-22 02:01:32,911 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-22 02:01:32,911 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-22 02:01:33,026 - scripts.sync_deadlines - INFO - sync_deadlines.py:98 - Получено 3 дедлайнов из Yonote для пользователя 1
2025-12-22 02:01:33,031 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'Тест на жопу абобы': дата изменена с 2025-12-31 00:00:00 на 2025-12-31 00:00:00+00:00
2025-12-22 02:01:33,031 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: Тест на жопу абобы (ID: csv_53486527)
2025-12-22 02:01:33,034 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'просто тест оповещения': дата изменена с 2025-12-16 16:45:00 на 2025-12-16 16:45:00+00:00
2025-12-22 02:01:33,035 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: просто тест оповещения (ID: csv_-5839906)
2025-12-22 02:01:33,039 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'стрей кидс': дата изменена с 2025-12-07 00:00:00 на 2025-12-07 00:00:00+00:00
2025-12-22 02:01:33,039 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: стрей кидс (ID: csv_33114748)
2025-12-22 02:01:33,044 - scripts.sync_deadlines - INFO - sync_deadlines.py:221 - Синхронизировано дедлайнов для пользователя 1: создано 0, обновлено 3
2025-12-22 02:01:33,045 - deadline_bot - INFO - bot.py:316 - Синхронизация для /my_deadlines: создано 0, обновлено 3
2025-12-22 02:01:33,143 - deadline_bot - INFO - bot.py:435 - Пользователь 929644995 запросил список дедлайнов: 1 шт.
2025-12-22 02:01:33,144 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747201 is handled. Duration 319 ms by bot id=8358666814
2025-12-22 02:01:40,468 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-22 02:01:40,469 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-22 02:01:40,610 - scripts.sync_deadlines - INFO - sync_deadlines.py:98 - Получено 3 дедлайнов из Yonote для пользователя 1
2025-12-22 02:01:40,615 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'Тест на жопу абобы': дата изменена с 2025-12-31 00:00:00 на 2025-12-31 00:00:00+00:00
2025-12-22 02:01:40,615 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: Тест на жопу абобы (ID: csv_53486527)
2025-12-22 02:01:40,618 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'просто тест оповещения': дата изменена с 2025-12-16 16:45:00 на 2025-12-16 16:45:00+00:00
2025-12-22 02:01:40,619 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: просто тест оповещения (ID: csv_-5839906)
2025-12-22 02:01:40,621 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'стрей кидс': дата изменена с 2025-12-07 00:00:00 на 2025-12-07 00:00:00+00:00
2025-12-22 02:01:40,621 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: стрей кидс (ID: csv_33114748)
2025-12-22 02:01:40,626 - scripts.sync_deadlines - INFO - sync_deadlines.py:221 - Синхронизировано дедлайнов для пользователя 1: создано 0, обновлено 3
2025-12-22 02:01:40,626 - deadline_bot - INFO - bot.py:316 - Синхронизация для /my_deadlines: создано 0, обновлено 3
2025-12-22 02:01:40,718 - deadline_bot - INFO - bot.py:435 - Пользователь 929644995 запросил список дедлайнов: 1 шт.
2025-12-22 02:01:40,719 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747202 is handled. Duration 334 ms by bot id=8358666814
2025-12-22 02:02:53,853 - deadline_bot - INFO - bot.py:698 - Администратор 623980763 запросил список подписанных: найдено 1 пользователей
2025-12-22 02:02:53,854 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747203 is handled. Duration 101 ms by bot id=8358666814
2025-12-22 02:03:33,750 - deadline_bot - WARNING - bot.py:97 - Заблокированный пользователь 623980763 попытался использовать бота
2025-12-22 02:03:33,752 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747204 is handled. Duration 2 ms by bot id=8358666814
2025-12-22 02:03:56,085 - deadline_bot - WARNING - bot.py:97 - Заблокированный пользователь 623980763 попытался использовать бота
2025-12-22 02:03:56,086 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747205 is handled. Duration 2 ms by bot id=8358666814
2025-12-22 02:04:35,824 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747206 is handled. Duration 90 ms by bot id=8358666814
2025-12-22 02:04:52,018 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747207 is handled. Duration 88 ms by bot id=8358666814
2025-12-22 02:04:57,300 - deadline_bot - INFO - bot.py:208 - Пользователь 623980763 зарегистрирован/обновлён
2025-12-22 02:04:57,301 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747208 is handled. Duration 112 ms by bot id=8358666814
2025-12-22 02:05:03,418 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747209 is handled. Duration 102 ms by bot id=8358666814
2025-12-22 02:05:25,196 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747210 is handled. Duration 85 ms by bot id=8358666814
2025-12-22 02:05:28,608 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747211 is handled. Duration 102 ms by bot id=8358666814
2025-12-22 02:05:31,327 - deadline_bot - INFO - bot.py:698 - Администратор 623980763 запросил список подписанных: найдено 1 пользователей
2025-12-22 02:05:31,327 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747212 is handled. Duration 89 ms by bot id=8358666814
2025-12-22 02:05:44,293 - deadline_bot - INFO - bot.py:698 - Администратор 623980763 запросил список подписанных: найдено 1 пользователей
2025-12-22 02:05:44,294 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747213 is handled. Duration 90 ms by bot id=8358666814
2025-12-22 02:05:53,302 - deadline_bot - INFO - bot.py:698 - Администратор 623980763 запросил список подписанных: найдено 1 пользователей
2025-12-22 02:05:53,303 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747214 is handled. Duration 93 ms by bot id=8358666814
2025-12-22 02:06:08,344 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747215 is handled. Duration 107 ms by bot id=8358666814
2025-12-22 02:07:04,251 - aiogram.dispatcher - INFO - dispatcher.py:624 - Polling stopped
2025-12-22 02:07:04,253 - aiogram.dispatcher - ERROR - dispatcher.py:225 - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-12-22 02:07:04,253 - aiogram.dispatcher - WARNING - dispatcher.py:227 - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8358666814)
2025-12-22 02:07:04,509 - deadline_bot - INFO - bot.py:1200 - Планировщик остановлен
2025-12-22 02:07:04,510 - apscheduler.scheduler - INFO - base.py:245 - Scheduler has been shut down
2025-12-22 02:07:04,511 - aiogram.dispatcher - INFO - dispatcher.py:413 - Polling stopped for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-22 02:07:04,514 - deadline_bot - INFO - bot.py:1207 - Бот остановлен пользователем
2025-12-23 02:33:44,517 - deadline_bot - INFO - bot.py:82 - Загружено 1 администраторов
2025-12-23 02:33:45,073 - deadline_bot - INFO - logging_config.py:110 - ==================================================
2025-12-23 02:33:45,073 - deadline_bot - INFO - logging_config.py:111 - DEADLINE BOT STARTING UP
2025-12-23 02:33:45,073 - deadline_bot - INFO - logging_config.py:112 - ==================================================
2025-12-23 02:33:45,073 - deadline_bot - INFO - logging_config.py:113 - Database URL: sqlite:///../data/deadlines.db
2025-12-23 02:33:45,074 - deadline_bot - INFO - logging_config.py:114 - Telegram Bot Token: Configured
2025-12-23 02:33:45,074 - deadline_bot - INFO - logging_config.py:115 - Yonote API Key: Configured
2025-12-23 02:33:45,074 - deadline_bot - INFO - logging_config.py:116 - Update Interval: 30 minutes
2025-12-23 02:33:45,074 - deadline_bot - INFO - logging_config.py:117 - Log Level: INFO
2025-12-23 02:33:45,075 - deadline_bot - INFO - logging_config.py:118 - ==================================================
2025-12-23 02:33:45,075 - deadline_bot - INFO - bot.py:2012 - Инициализация базы данных...
2025-12-23 02:33:45,081 - deadline_bot - INFO - bot.py:2015 - База данных инициализирована
2025-12-23 02:33:45,084 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 02:33:45,084 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 02:33:45,086 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-23 02:33:45,087 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-23 02:33:45,087 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-23 02:33:45,088 - deadline_bot - INFO - bot.py:2049 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-23 02:33:45,088 - deadline_bot - INFO - bot.py:2052 - Запуск бота...
2025-12-23 02:33:45,089 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-23 02:33:45,345 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 02:33:45,662 - deadline_bot - INFO - bot.py:237 - Пользователь 929644995 зарегистрирован/обновлён
2025-12-23 02:33:45,662 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747396 is handled. Duration 244 ms by bot id=8358666814
2025-12-23 02:33:45,681 - deadline_bot - INFO - bot.py:237 - Пользователь 929644995 зарегистрирован/обновлён
2025-12-23 02:33:45,681 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747397 is handled. Duration 240 ms by bot id=8358666814
2025-12-23 02:33:53,166 - deadline_bot - ERROR - bot.py:1748 - Ошибка в обработчике настроек уведомлений: cannot access local variable 'settings_text' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\vj\Documents\deadline_bot\bot.py", line 1647, in handle_notification_settings
    settings_text,
    ^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'settings_text' where it is not associated with a value
2025-12-23 02:33:53,241 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747398 is handled. Duration 164 ms by bot id=8358666814
2025-12-23 02:36:12,211 - aiogram.dispatcher - INFO - dispatcher.py:624 - Polling stopped
2025-12-23 02:36:12,212 - aiogram.dispatcher - ERROR - dispatcher.py:225 - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-12-23 02:36:12,213 - aiogram.dispatcher - WARNING - dispatcher.py:227 - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8358666814)
2025-12-23 02:36:12,470 - deadline_bot - INFO - bot.py:2058 - Планировщик остановлен
2025-12-23 02:36:12,471 - apscheduler.scheduler - INFO - base.py:245 - Scheduler has been shut down
2025-12-23 02:36:12,476 - aiogram.dispatcher - INFO - dispatcher.py:413 - Polling stopped for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 02:36:12,478 - deadline_bot - INFO - bot.py:2065 - Бот остановлен пользователем
2025-12-23 02:36:19,280 - deadline_bot - INFO - bot.py:82 - Загружено 1 администраторов
2025-12-23 02:36:19,807 - deadline_bot - INFO - logging_config.py:110 - ==================================================
2025-12-23 02:36:19,808 - deadline_bot - INFO - logging_config.py:111 - DEADLINE BOT STARTING UP
2025-12-23 02:36:19,808 - deadline_bot - INFO - logging_config.py:112 - ==================================================
2025-12-23 02:36:19,808 - deadline_bot - INFO - logging_config.py:113 - Database URL: sqlite:///../data/deadlines.db
2025-12-23 02:36:19,808 - deadline_bot - INFO - logging_config.py:114 - Telegram Bot Token: Configured
2025-12-23 02:36:19,809 - deadline_bot - INFO - logging_config.py:115 - Yonote API Key: Configured
2025-12-23 02:36:19,809 - deadline_bot - INFO - logging_config.py:116 - Update Interval: 30 minutes
2025-12-23 02:36:19,809 - deadline_bot - INFO - logging_config.py:117 - Log Level: INFO
2025-12-23 02:36:19,809 - deadline_bot - INFO - logging_config.py:118 - ==================================================
2025-12-23 02:36:19,810 - deadline_bot - INFO - bot.py:1999 - Инициализация базы данных...
2025-12-23 02:36:19,813 - deadline_bot - INFO - bot.py:2002 - База данных инициализирована
2025-12-23 02:36:19,815 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 02:36:19,815 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 02:36:19,817 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-23 02:36:19,818 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-23 02:36:19,818 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-23 02:36:19,819 - deadline_bot - INFO - bot.py:2036 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-23 02:36:19,819 - deadline_bot - INFO - bot.py:2039 - Запуск бота...
2025-12-23 02:36:19,819 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-23 02:36:20,030 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 02:36:27,199 - deadline_bot - INFO - bot.py:237 - Пользователь 929644995 зарегистрирован/обновлён
2025-12-23 02:36:27,199 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747399 is handled. Duration 246 ms by bot id=8358666814
2025-12-23 02:36:35,912 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747400 is handled. Duration 82 ms by bot id=8358666814
2025-12-23 02:36:52,050 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747401 is handled. Duration 86 ms by bot id=8358666814
2025-12-23 02:36:55,490 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747402 is handled. Duration 157 ms by bot id=8358666814
2025-12-23 02:37:09,521 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747403 is handled. Duration 164 ms by bot id=8358666814
2025-12-23 02:37:24,288 - deadline_bot - INFO - bot.py:237 - Пользователь 929644995 зарегистрирован/обновлён
2025-12-23 02:37:24,289 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747404 is handled. Duration 87 ms by bot id=8358666814
2025-12-23 02:37:25,958 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-23 02:37:25,959 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-23 02:37:26,208 - scripts.sync_deadlines - INFO - sync_deadlines.py:98 - Получено 3 дедлайнов из Yonote для пользователя 1
2025-12-23 02:37:26,216 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'Тест на жопу абобы': дата изменена с 2025-12-31 00:00:00 на 2025-12-31 00:00:00+00:00
2025-12-23 02:37:26,217 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: Тест на жопу абобы (ID: csv_-5553455)
2025-12-23 02:37:26,220 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'просто тест оповещения': дата изменена с 2025-12-16 16:45:00 на 2025-12-16 16:45:00+00:00
2025-12-23 02:37:26,220 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: просто тест оповещения (ID: csv_-6064448)
2025-12-23 02:37:26,223 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'стрей кидс': дата изменена с 2025-12-07 00:00:00 на 2025-12-07 00:00:00+00:00
2025-12-23 02:37:26,224 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: стрей кидс (ID: csv_-5151168)
2025-12-23 02:37:26,232 - scripts.sync_deadlines - INFO - sync_deadlines.py:221 - Синхронизировано дедлайнов для пользователя 1: создано 0, обновлено 3
2025-12-23 02:37:26,318 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747405 is handled. Duration 361 ms by bot id=8358666814
2025-12-23 02:37:29,881 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747406 is handled. Duration 88 ms by bot id=8358666814
2025-12-23 02:37:36,186 - notification_settings - INFO - notification_settings.py:204 - Обновлены настройки уведомлений для пользователя 1
2025-12-23 02:37:36,346 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747407 is handled. Duration 168 ms by bot id=8358666814
2025-12-23 02:37:37,389 - notification_settings - INFO - notification_settings.py:204 - Обновлены настройки уведомлений для пользователя 1
2025-12-23 02:37:37,543 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747408 is handled. Duration 162 ms by bot id=8358666814
2025-12-23 02:37:41,258 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747409 is handled. Duration 205 ms by bot id=8358666814
2025-12-23 02:37:45,785 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747410 is handled. Duration 2 ms by bot id=8358666814
2025-12-23 02:37:48,963 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747411 is handled. Duration 1 ms by bot id=8358666814
2025-12-23 02:38:22,191 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747412 is handled. Duration 2 ms by bot id=8358666814
2025-12-23 02:42:40,421 - aiogram.dispatcher - INFO - dispatcher.py:624 - Polling stopped
2025-12-23 02:42:40,423 - aiogram.dispatcher - ERROR - dispatcher.py:225 - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-12-23 02:42:40,424 - aiogram.dispatcher - WARNING - dispatcher.py:227 - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8358666814)
2025-12-23 02:42:40,690 - deadline_bot - INFO - bot.py:2045 - Планировщик остановлен
2025-12-23 02:42:40,691 - apscheduler.scheduler - INFO - base.py:245 - Scheduler has been shut down
2025-12-23 02:42:40,692 - aiogram.dispatcher - INFO - dispatcher.py:413 - Polling stopped for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 02:42:40,694 - deadline_bot - INFO - bot.py:2052 - Бот остановлен пользователем
2025-12-23 02:42:47,869 - deadline_bot - INFO - bot.py:82 - Загружено 1 администраторов
2025-12-23 02:42:48,380 - deadline_bot - INFO - logging_config.py:110 - ==================================================
2025-12-23 02:42:48,380 - deadline_bot - INFO - logging_config.py:111 - DEADLINE BOT STARTING UP
2025-12-23 02:42:48,380 - deadline_bot - INFO - logging_config.py:112 - ==================================================
2025-12-23 02:42:48,381 - deadline_bot - INFO - logging_config.py:113 - Database URL: sqlite:///../data/deadlines.db
2025-12-23 02:42:48,381 - deadline_bot - INFO - logging_config.py:114 - Telegram Bot Token: Configured
2025-12-23 02:42:48,381 - deadline_bot - INFO - logging_config.py:115 - Yonote API Key: Configured
2025-12-23 02:42:48,382 - deadline_bot - INFO - logging_config.py:116 - Update Interval: 30 minutes
2025-12-23 02:42:48,382 - deadline_bot - INFO - logging_config.py:117 - Log Level: INFO
2025-12-23 02:42:48,382 - deadline_bot - INFO - logging_config.py:118 - ==================================================
2025-12-23 02:42:48,382 - deadline_bot - INFO - bot.py:1995 - Инициализация базы данных...
2025-12-23 02:42:48,388 - deadline_bot - INFO - bot.py:1998 - База данных инициализирована
2025-12-23 02:42:48,391 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 02:42:48,392 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 02:42:48,393 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-23 02:42:48,394 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-23 02:42:48,394 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-23 02:42:48,395 - deadline_bot - INFO - bot.py:2032 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-23 02:42:48,395 - deadline_bot - INFO - bot.py:2035 - Запуск бота...
2025-12-23 02:42:48,396 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-23 02:42:48,615 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 02:42:50,017 - deadline_bot - INFO - bot.py:233 - Пользователь 929644995 зарегистрирован/обновлён
2025-12-23 02:42:50,017 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747413 is handled. Duration 247 ms by bot id=8358666814
2025-12-23 02:42:53,253 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747414 is handled. Duration 84 ms by bot id=8358666814
2025-12-23 02:46:15,469 - aiogram.dispatcher - INFO - dispatcher.py:624 - Polling stopped
2025-12-23 02:46:15,470 - aiogram.dispatcher - ERROR - dispatcher.py:225 - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-12-23 02:46:15,471 - aiogram.dispatcher - WARNING - dispatcher.py:227 - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8358666814)
2025-12-23 02:46:15,724 - deadline_bot - INFO - bot.py:2041 - Планировщик остановлен
2025-12-23 02:46:15,725 - apscheduler.scheduler - INFO - base.py:245 - Scheduler has been shut down
2025-12-23 02:46:15,726 - aiogram.dispatcher - INFO - dispatcher.py:413 - Polling stopped for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 02:46:15,728 - deadline_bot - INFO - bot.py:2048 - Бот остановлен пользователем
2025-12-23 02:46:22,183 - deadline_bot - INFO - bot.py:82 - Загружено 1 администраторов
2025-12-23 02:46:22,743 - deadline_bot - INFO - logging_config.py:110 - ==================================================
2025-12-23 02:46:22,744 - deadline_bot - INFO - logging_config.py:111 - DEADLINE BOT STARTING UP
2025-12-23 02:46:22,744 - deadline_bot - INFO - logging_config.py:112 - ==================================================
2025-12-23 02:46:22,744 - deadline_bot - INFO - logging_config.py:113 - Database URL: sqlite:///../data/deadlines.db
2025-12-23 02:46:22,745 - deadline_bot - INFO - logging_config.py:114 - Telegram Bot Token: Configured
2025-12-23 02:46:22,745 - deadline_bot - INFO - logging_config.py:115 - Yonote API Key: Configured
2025-12-23 02:46:22,746 - deadline_bot - INFO - logging_config.py:116 - Update Interval: 30 minutes
2025-12-23 02:46:22,746 - deadline_bot - INFO - logging_config.py:117 - Log Level: INFO
2025-12-23 02:46:22,746 - deadline_bot - INFO - logging_config.py:118 - ==================================================
2025-12-23 02:46:22,747 - deadline_bot - INFO - bot.py:2000 - Инициализация базы данных...
2025-12-23 02:46:22,756 - deadline_bot - INFO - bot.py:2003 - База данных инициализирована
2025-12-23 02:46:22,759 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 02:46:22,760 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 02:46:22,762 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-23 02:46:22,763 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-23 02:46:22,763 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-23 02:46:22,764 - deadline_bot - INFO - bot.py:2037 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-23 02:46:22,764 - deadline_bot - INFO - bot.py:2040 - Запуск бота...
2025-12-23 02:46:22,765 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-23 02:46:22,987 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 02:46:26,318 - deadline_bot - INFO - bot.py:233 - Пользователь 929644995 зарегистрирован/обновлён
2025-12-23 02:46:26,318 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747415 is handled. Duration 274 ms by bot id=8358666814
2025-12-23 02:46:27,796 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747416 is handled. Duration 101 ms by bot id=8358666814
2025-12-23 02:47:33,729 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747417 is handled. Duration 143 ms by bot id=8358666814
2025-12-23 02:47:36,226 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747418 is handled. Duration 2 ms by bot id=8358666814
2025-12-23 02:51:11,531 - aiogram.dispatcher - INFO - dispatcher.py:624 - Polling stopped
2025-12-23 02:51:11,533 - aiogram.dispatcher - ERROR - dispatcher.py:225 - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-12-23 02:51:11,534 - aiogram.dispatcher - WARNING - dispatcher.py:227 - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8358666814)
2025-12-23 02:51:11,797 - deadline_bot - INFO - bot.py:2046 - Планировщик остановлен
2025-12-23 02:51:11,797 - apscheduler.scheduler - INFO - base.py:245 - Scheduler has been shut down
2025-12-23 02:51:11,798 - aiogram.dispatcher - INFO - dispatcher.py:413 - Polling stopped for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 02:51:11,800 - deadline_bot - INFO - bot.py:2053 - Бот остановлен пользователем
2025-12-23 02:51:18,042 - deadline_bot - INFO - bot.py:82 - Загружено 1 администраторов
2025-12-23 02:51:18,545 - deadline_bot - INFO - logging_config.py:110 - ==================================================
2025-12-23 02:51:18,545 - deadline_bot - INFO - logging_config.py:111 - DEADLINE BOT STARTING UP
2025-12-23 02:51:18,545 - deadline_bot - INFO - logging_config.py:112 - ==================================================
2025-12-23 02:51:18,546 - deadline_bot - INFO - logging_config.py:113 - Database URL: sqlite:///../data/deadlines.db
2025-12-23 02:51:18,546 - deadline_bot - INFO - logging_config.py:114 - Telegram Bot Token: Configured
2025-12-23 02:51:18,546 - deadline_bot - INFO - logging_config.py:115 - Yonote API Key: Configured
2025-12-23 02:51:18,547 - deadline_bot - INFO - logging_config.py:116 - Update Interval: 30 minutes
2025-12-23 02:51:18,547 - deadline_bot - INFO - logging_config.py:117 - Log Level: INFO
2025-12-23 02:51:18,547 - deadline_bot - INFO - logging_config.py:118 - ==================================================
2025-12-23 02:51:18,547 - deadline_bot - INFO - bot.py:2001 - Инициализация базы данных...
2025-12-23 02:51:18,551 - deadline_bot - INFO - bot.py:2004 - База данных инициализирована
2025-12-23 02:51:18,553 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 02:51:18,553 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 02:51:18,555 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-23 02:51:18,556 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-23 02:51:18,556 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-23 02:51:18,557 - deadline_bot - INFO - bot.py:2038 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-23 02:51:18,557 - deadline_bot - INFO - bot.py:2041 - Запуск бота...
2025-12-23 02:51:18,558 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-23 02:51:18,774 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 02:51:20,610 - deadline_bot - INFO - bot.py:233 - Пользователь 929644995 зарегистрирован/обновлён
2025-12-23 02:51:20,611 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747419 is handled. Duration 258 ms by bot id=8358666814
2025-12-23 02:51:21,753 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-23 02:51:21,753 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-23 02:51:21,869 - scripts.sync_deadlines - INFO - sync_deadlines.py:98 - Получено 3 дедлайнов из Yonote для пользователя 1
2025-12-23 02:51:21,877 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'Тест на жопу абобы': дата изменена с 2025-12-31 00:00:00 на 2025-12-31 00:00:00+00:00
2025-12-23 02:51:21,878 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: Тест на жопу абобы (ID: csv_-6706862)
2025-12-23 02:51:21,881 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'просто тест оповещения': дата изменена с 2025-12-16 16:45:00 на 2025-12-16 16:45:00+00:00
2025-12-23 02:51:21,881 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: просто тест оповещения (ID: csv_-7176057)
2025-12-23 02:51:21,884 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'стрей кидс': дата изменена с 2025-12-07 00:00:00 на 2025-12-07 00:00:00+00:00
2025-12-23 02:51:21,884 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: стрей кидс (ID: csv_-6543153)
2025-12-23 02:51:21,892 - scripts.sync_deadlines - INFO - sync_deadlines.py:221 - Синхронизировано дедлайнов для пользователя 1: создано 0, обновлено 3
2025-12-23 02:51:21,979 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747420 is handled. Duration 229 ms by bot id=8358666814
2025-12-23 02:53:54,740 - aiogram.dispatcher - INFO - dispatcher.py:624 - Polling stopped
2025-12-23 02:53:54,741 - aiogram.dispatcher - ERROR - dispatcher.py:225 - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-12-23 02:53:54,742 - aiogram.dispatcher - WARNING - dispatcher.py:227 - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8358666814)
2025-12-23 02:53:55,001 - deadline_bot - INFO - bot.py:2047 - Планировщик остановлен
2025-12-23 02:53:55,002 - apscheduler.scheduler - INFO - base.py:245 - Scheduler has been shut down
2025-12-23 02:53:55,002 - aiogram.dispatcher - INFO - dispatcher.py:413 - Polling stopped for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 02:53:55,004 - deadline_bot - INFO - bot.py:2054 - Бот остановлен пользователем
2025-12-23 02:54:17,058 - deadline_bot - INFO - bot.py:82 - Загружено 1 администраторов
2025-12-23 02:54:17,589 - deadline_bot - INFO - logging_config.py:110 - ==================================================
2025-12-23 02:54:17,589 - deadline_bot - INFO - logging_config.py:111 - DEADLINE BOT STARTING UP
2025-12-23 02:54:17,589 - deadline_bot - INFO - logging_config.py:112 - ==================================================
2025-12-23 02:54:17,590 - deadline_bot - INFO - logging_config.py:113 - Database URL: sqlite:///../data/deadlines.db
2025-12-23 02:54:17,590 - deadline_bot - INFO - logging_config.py:114 - Telegram Bot Token: Configured
2025-12-23 02:54:17,590 - deadline_bot - INFO - logging_config.py:115 - Yonote API Key: Configured
2025-12-23 02:54:17,591 - deadline_bot - INFO - logging_config.py:116 - Update Interval: 30 minutes
2025-12-23 02:54:17,591 - deadline_bot - INFO - logging_config.py:117 - Log Level: INFO
2025-12-23 02:54:17,591 - deadline_bot - INFO - logging_config.py:118 - ==================================================
2025-12-23 02:54:17,592 - deadline_bot - INFO - bot.py:1990 - Инициализация базы данных...
2025-12-23 02:54:17,600 - deadline_bot - INFO - bot.py:1993 - База данных инициализирована
2025-12-23 02:54:17,603 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 02:54:17,603 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 02:54:17,605 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-23 02:54:17,606 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-23 02:54:17,606 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-23 02:54:17,607 - deadline_bot - INFO - bot.py:2027 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-23 02:54:17,607 - deadline_bot - INFO - bot.py:2030 - Запуск бота...
2025-12-23 02:54:17,608 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-23 02:54:17,839 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 02:54:18,688 - deadline_bot - INFO - bot.py:233 - Пользователь 929644995 зарегистрирован/обновлён
2025-12-23 02:54:18,689 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747421 is handled. Duration 259 ms by bot id=8358666814
2025-12-23 02:54:21,320 - deadline_bot - ERROR - bot.py:1726 - Ошибка в обработчике настроек уведомлений: 11 validation errors for InlineKeyboardMarkup
inline_keyboard.0.0
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('text', 'Назад'), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.1
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('url', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.2
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('callback_data', 'cmd_start'), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.3
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('web_app', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.4
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('login_url', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.5
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('switch_inline_query', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.6
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('switch_inline_query_current_chat', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.7
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('switch_inline_query_chosen_chat', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.8
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('copy_text', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.9
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('callback_game', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.10
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('pay', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
Traceback (most recent call last):
  File "C:\Users\vj\Documents\deadline_bot\bot.py", line 1463, in handle_notification_settings
    reply_markup = InlineKeyboardMarkup(inline_keyboard=[InlineKeyboardButton(text="Назад", callback_data="cmd_start")])
                   ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\.venv\Lib\site-packages\pydantic\main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 11 validation errors for InlineKeyboardMarkup
inline_keyboard.0.0
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('text', 'Назад'), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.1
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('url', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.2
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('callback_data', 'cmd_start'), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.3
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('web_app', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.4
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('login_url', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.5
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('switch_inline_query', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.6
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('switch_inline_query_current_chat', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.7
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('switch_inline_query_chosen_chat', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.8
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('copy_text', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.9
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('callback_game', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.10
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('pay', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2025-12-23 02:54:21,408 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747422 is handled. Duration 94 ms by bot id=8358666814
2025-12-23 02:55:46,992 - aiogram.dispatcher - INFO - dispatcher.py:624 - Polling stopped
2025-12-23 02:55:46,993 - aiogram.dispatcher - ERROR - dispatcher.py:225 - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-12-23 02:55:46,994 - aiogram.dispatcher - WARNING - dispatcher.py:227 - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8358666814)
2025-12-23 02:55:47,249 - deadline_bot - INFO - bot.py:2036 - Планировщик остановлен
2025-12-23 02:55:47,250 - apscheduler.scheduler - INFO - base.py:245 - Scheduler has been shut down
2025-12-23 02:55:47,250 - aiogram.dispatcher - INFO - dispatcher.py:413 - Polling stopped for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 02:55:47,252 - deadline_bot - INFO - bot.py:2043 - Бот остановлен пользователем
2025-12-23 02:55:53,697 - deadline_bot - INFO - bot.py:82 - Загружено 1 администраторов
2025-12-23 02:55:54,207 - deadline_bot - INFO - logging_config.py:110 - ==================================================
2025-12-23 02:55:54,208 - deadline_bot - INFO - logging_config.py:111 - DEADLINE BOT STARTING UP
2025-12-23 02:55:54,208 - deadline_bot - INFO - logging_config.py:112 - ==================================================
2025-12-23 02:55:54,208 - deadline_bot - INFO - logging_config.py:113 - Database URL: sqlite:///../data/deadlines.db
2025-12-23 02:55:54,209 - deadline_bot - INFO - logging_config.py:114 - Telegram Bot Token: Configured
2025-12-23 02:55:54,209 - deadline_bot - INFO - logging_config.py:115 - Yonote API Key: Configured
2025-12-23 02:55:54,209 - deadline_bot - INFO - logging_config.py:116 - Update Interval: 30 minutes
2025-12-23 02:55:54,210 - deadline_bot - INFO - logging_config.py:117 - Log Level: INFO
2025-12-23 02:55:54,210 - deadline_bot - INFO - logging_config.py:118 - ==================================================
2025-12-23 02:55:54,210 - deadline_bot - INFO - bot.py:1990 - Инициализация базы данных...
2025-12-23 02:55:54,215 - deadline_bot - INFO - bot.py:1993 - База данных инициализирована
2025-12-23 02:55:54,217 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 02:55:54,218 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 02:55:54,219 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-23 02:55:54,220 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-23 02:55:54,220 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-23 02:55:54,221 - deadline_bot - INFO - bot.py:2027 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-23 02:55:54,221 - deadline_bot - INFO - bot.py:2030 - Запуск бота...
2025-12-23 02:55:54,221 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-23 02:55:54,436 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 02:55:58,000 - deadline_bot - INFO - bot.py:233 - Пользователь 929644995 зарегистрирован/обновлён
2025-12-23 02:55:58,001 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747423 is handled. Duration 338 ms by bot id=8358666814
2025-12-23 02:55:59,299 - deadline_bot - ERROR - bot.py:1726 - Ошибка в обработчике настроек уведомлений: 11 validation errors for InlineKeyboardMarkup
inline_keyboard.0.0
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('text', 'Назад'), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.1
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('url', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.2
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('callback_data', 'cmd_start'), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.3
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('web_app', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.4
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('login_url', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.5
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('switch_inline_query', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.6
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('switch_inline_query_current_chat', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.7
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('switch_inline_query_chosen_chat', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.8
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('copy_text', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.9
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('callback_game', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.10
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('pay', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
Traceback (most recent call last):
  File "C:\Users\vj\Documents\deadline_bot\bot.py", line 1456, in handle_notification_settings
    keyboard=[[InlineKeyboardMarkup(inline_keyboard=[InlineKeyboardButton(text="Назад", callback_data="cmd_start")])]]
               ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\.venv\Lib\site-packages\pydantic\main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 11 validation errors for InlineKeyboardMarkup
inline_keyboard.0.0
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('text', 'Назад'), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.1
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('url', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.2
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('callback_data', 'cmd_start'), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.3
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('web_app', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.4
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('login_url', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.5
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('switch_inline_query', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.6
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('switch_inline_query_current_chat', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.7
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('switch_inline_query_chosen_chat', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.8
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('copy_text', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.9
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('callback_game', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.10
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('pay', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2025-12-23 02:55:59,387 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747424 is handled. Duration 90 ms by bot id=8358666814
2025-12-23 02:59:36,494 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747425 is handled. Duration 90 ms by bot id=8358666814
2025-12-23 02:59:37,932 - deadline_bot - ERROR - bot.py:1726 - Ошибка в обработчике настроек уведомлений: 11 validation errors for InlineKeyboardMarkup
inline_keyboard.0.0
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('text', 'Назад'), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.1
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('url', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.2
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('callback_data', 'cmd_start'), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.3
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('web_app', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.4
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('login_url', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.5
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('switch_inline_query', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.6
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('switch_inline_query_current_chat', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.7
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('switch_inline_query_chosen_chat', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.8
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('copy_text', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.9
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('callback_game', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.10
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('pay', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
Traceback (most recent call last):
  File "C:\Users\vj\Documents\deadline_bot\bot.py", line 1456, in handle_notification_settings
    keyboard=[[InlineKeyboardMarkup(inline_keyboard=[InlineKeyboardButton(text="Назад", callback_data="cmd_start")])]]
               ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\.venv\Lib\site-packages\pydantic\main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 11 validation errors for InlineKeyboardMarkup
inline_keyboard.0.0
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('text', 'Назад'), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.1
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('url', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.2
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('callback_data', 'cmd_start'), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.3
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('web_app', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.4
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('login_url', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.5
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('switch_inline_query', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.6
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('switch_inline_query_current_chat', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.7
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('switch_inline_query_chosen_chat', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.8
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('copy_text', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.9
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('callback_game', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
inline_keyboard.0.10
  Input should be a valid dictionary or instance of InlineKeyboardButton [type=model_type, input_value=('pay', None), input_type=tuple]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2025-12-23 02:59:38,011 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747426 is handled. Duration 82 ms by bot id=8358666814
2025-12-23 03:01:44,829 - aiogram.dispatcher - INFO - dispatcher.py:624 - Polling stopped
2025-12-23 03:01:44,832 - aiogram.dispatcher - ERROR - dispatcher.py:225 - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-12-23 03:01:44,832 - aiogram.dispatcher - WARNING - dispatcher.py:227 - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8358666814)
2025-12-23 03:01:45,090 - deadline_bot - INFO - bot.py:2036 - Планировщик остановлен
2025-12-23 03:01:45,091 - apscheduler.scheduler - INFO - base.py:245 - Scheduler has been shut down
2025-12-23 03:01:45,091 - aiogram.dispatcher - INFO - dispatcher.py:413 - Polling stopped for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:01:45,093 - deadline_bot - INFO - bot.py:2043 - Бот остановлен пользователем
2025-12-23 03:01:54,609 - deadline_bot - INFO - bot.py:82 - Загружено 1 администраторов
2025-12-23 03:01:55,158 - deadline_bot - INFO - logging_config.py:110 - ==================================================
2025-12-23 03:01:55,158 - deadline_bot - INFO - logging_config.py:111 - DEADLINE BOT STARTING UP
2025-12-23 03:01:55,159 - deadline_bot - INFO - logging_config.py:112 - ==================================================
2025-12-23 03:01:55,159 - deadline_bot - INFO - logging_config.py:113 - Database URL: sqlite:///../data/deadlines.db
2025-12-23 03:01:55,159 - deadline_bot - INFO - logging_config.py:114 - Telegram Bot Token: Configured
2025-12-23 03:01:55,160 - deadline_bot - INFO - logging_config.py:115 - Yonote API Key: Configured
2025-12-23 03:01:55,160 - deadline_bot - INFO - logging_config.py:116 - Update Interval: 30 minutes
2025-12-23 03:01:55,160 - deadline_bot - INFO - logging_config.py:117 - Log Level: INFO
2025-12-23 03:01:55,161 - deadline_bot - INFO - logging_config.py:118 - ==================================================
2025-12-23 03:01:55,161 - deadline_bot - INFO - bot.py:1987 - Инициализация базы данных...
2025-12-23 03:01:55,165 - deadline_bot - INFO - bot.py:1990 - База данных инициализирована
2025-12-23 03:01:55,167 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 03:01:55,167 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 03:01:55,169 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-23 03:01:55,170 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-23 03:01:55,170 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-23 03:01:55,171 - deadline_bot - INFO - bot.py:2024 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-23 03:01:55,171 - deadline_bot - INFO - bot.py:2027 - Запуск бота...
2025-12-23 03:01:55,171 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-23 03:01:55,392 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:01:59,033 - deadline_bot - INFO - bot.py:233 - Пользователь 929644995 зарегистрирован/обновлён
2025-12-23 03:01:59,034 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747427 is handled. Duration 245 ms by bot id=8358666814
2025-12-23 03:02:01,627 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747428 is handled. Duration 85 ms by bot id=8358666814
2025-12-23 03:02:15,163 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747429 is handled. Duration 83 ms by bot id=8358666814
2025-12-23 03:02:16,237 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747430 is handled. Duration 82 ms by bot id=8358666814
2025-12-23 03:02:18,620 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747431 is handled. Duration 228 ms by bot id=8358666814
2025-12-23 03:02:28,729 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747432 is handled. Duration 1 ms by bot id=8358666814
2025-12-23 03:02:29,445 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747433 is handled. Duration 2 ms by bot id=8358666814
2025-12-23 03:02:57,899 - deadline_bot - INFO - bot.py:233 - Пользователь 929644995 зарегистрирован/обновлён
2025-12-23 03:02:57,900 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747434 is handled. Duration 92 ms by bot id=8358666814
2025-12-23 03:05:12,950 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747435 is handled. Duration 88 ms by bot id=8358666814
2025-12-23 03:05:13,754 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747436 is handled. Duration 3 ms by bot id=8358666814
2025-12-23 03:06:56,881 - aiogram.dispatcher - INFO - dispatcher.py:624 - Polling stopped
2025-12-23 03:06:56,884 - aiogram.dispatcher - ERROR - dispatcher.py:225 - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-12-23 03:06:56,884 - aiogram.dispatcher - WARNING - dispatcher.py:227 - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8358666814)
2025-12-23 03:06:57,149 - deadline_bot - INFO - bot.py:2033 - Планировщик остановлен
2025-12-23 03:06:57,160 - apscheduler.scheduler - INFO - base.py:245 - Scheduler has been shut down
2025-12-23 03:06:57,161 - aiogram.dispatcher - INFO - dispatcher.py:413 - Polling stopped for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:06:57,196 - deadline_bot - INFO - bot.py:2040 - Бот остановлен пользователем
2025-12-23 03:07:05,407 - deadline_bot - INFO - bot.py:82 - Загружено 1 администраторов
2025-12-23 03:07:05,913 - deadline_bot - INFO - logging_config.py:110 - ==================================================
2025-12-23 03:07:05,913 - deadline_bot - INFO - logging_config.py:111 - DEADLINE BOT STARTING UP
2025-12-23 03:07:05,913 - deadline_bot - INFO - logging_config.py:112 - ==================================================
2025-12-23 03:07:05,914 - deadline_bot - INFO - logging_config.py:113 - Database URL: sqlite:///../data/deadlines.db
2025-12-23 03:07:05,914 - deadline_bot - INFO - logging_config.py:114 - Telegram Bot Token: Configured
2025-12-23 03:07:05,914 - deadline_bot - INFO - logging_config.py:115 - Yonote API Key: Configured
2025-12-23 03:07:05,915 - deadline_bot - INFO - logging_config.py:116 - Update Interval: 30 minutes
2025-12-23 03:07:05,915 - deadline_bot - INFO - logging_config.py:117 - Log Level: INFO
2025-12-23 03:07:05,915 - deadline_bot - INFO - logging_config.py:118 - ==================================================
2025-12-23 03:07:05,915 - deadline_bot - INFO - bot.py:1989 - Инициализация базы данных...
2025-12-23 03:07:05,919 - deadline_bot - INFO - bot.py:1992 - База данных инициализирована
2025-12-23 03:07:05,921 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 03:07:05,921 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 03:07:05,923 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-23 03:07:05,923 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-23 03:07:05,924 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-23 03:07:05,924 - deadline_bot - INFO - bot.py:2026 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-23 03:07:05,925 - deadline_bot - INFO - bot.py:2029 - Запуск бота...
2025-12-23 03:07:05,925 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-23 03:07:06,148 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:07:06,480 - deadline_bot - INFO - bot.py:233 - Пользователь 929644995 зарегистрирован/обновлён
2025-12-23 03:07:06,480 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747437 is handled. Duration 261 ms by bot id=8358666814
2025-12-23 03:07:09,769 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747438 is handled. Duration 90 ms by bot id=8358666814
2025-12-23 03:07:10,878 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747439 is handled. Duration 2 ms by bot id=8358666814
2025-12-23 03:07:25,530 - aiogram.dispatcher - INFO - dispatcher.py:624 - Polling stopped
2025-12-23 03:07:25,532 - aiogram.dispatcher - ERROR - dispatcher.py:225 - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-12-23 03:07:25,533 - aiogram.dispatcher - WARNING - dispatcher.py:227 - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8358666814)
2025-12-23 03:07:25,785 - deadline_bot - INFO - bot.py:2035 - Планировщик остановлен
2025-12-23 03:07:25,785 - apscheduler.scheduler - INFO - base.py:245 - Scheduler has been shut down
2025-12-23 03:07:25,786 - aiogram.dispatcher - INFO - dispatcher.py:413 - Polling stopped for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:07:25,788 - deadline_bot - INFO - bot.py:2042 - Бот остановлен пользователем
2025-12-23 03:07:31,809 - deadline_bot - INFO - bot.py:82 - Загружено 1 администраторов
2025-12-23 03:07:32,297 - deadline_bot - INFO - logging_config.py:110 - ==================================================
2025-12-23 03:07:32,297 - deadline_bot - INFO - logging_config.py:111 - DEADLINE BOT STARTING UP
2025-12-23 03:07:32,297 - deadline_bot - INFO - logging_config.py:112 - ==================================================
2025-12-23 03:07:32,297 - deadline_bot - INFO - logging_config.py:113 - Database URL: sqlite:///../data/deadlines.db
2025-12-23 03:07:32,298 - deadline_bot - INFO - logging_config.py:114 - Telegram Bot Token: Configured
2025-12-23 03:07:32,298 - deadline_bot - INFO - logging_config.py:115 - Yonote API Key: Configured
2025-12-23 03:07:32,298 - deadline_bot - INFO - logging_config.py:116 - Update Interval: 30 minutes
2025-12-23 03:07:32,298 - deadline_bot - INFO - logging_config.py:117 - Log Level: INFO
2025-12-23 03:07:32,299 - deadline_bot - INFO - logging_config.py:118 - ==================================================
2025-12-23 03:07:32,299 - deadline_bot - INFO - bot.py:1989 - Инициализация базы данных...
2025-12-23 03:07:32,303 - deadline_bot - INFO - bot.py:1992 - База данных инициализирована
2025-12-23 03:07:32,305 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 03:07:32,305 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 03:07:32,307 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-23 03:07:32,308 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-23 03:07:32,308 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-23 03:07:32,309 - deadline_bot - INFO - bot.py:2026 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-23 03:07:32,309 - deadline_bot - INFO - bot.py:2029 - Запуск бота...
2025-12-23 03:07:32,309 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-23 03:07:32,521 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:07:50,370 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747440 is handled. Duration 236 ms by bot id=8358666814
2025-12-23 03:07:51,351 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747441 is handled. Duration 22 ms by bot id=8358666814
2025-12-23 03:10:21,660 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747442 is handled. Duration 129 ms by bot id=8358666814
2025-12-23 03:10:25,747 - deadline_bot - INFO - bot.py:233 - Пользователь 929644995 зарегистрирован/обновлён
2025-12-23 03:10:25,748 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747443 is handled. Duration 88 ms by bot id=8358666814
2025-12-23 03:10:28,074 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747444 is handled. Duration 103 ms by bot id=8358666814
2025-12-23 03:11:04,875 - aiogram.dispatcher - INFO - dispatcher.py:624 - Polling stopped
2025-12-23 03:11:04,877 - aiogram.dispatcher - ERROR - dispatcher.py:225 - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-12-23 03:11:04,878 - aiogram.dispatcher - WARNING - dispatcher.py:227 - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8358666814)
2025-12-23 03:11:05,140 - deadline_bot - INFO - bot.py:2035 - Планировщик остановлен
2025-12-23 03:11:05,141 - apscheduler.scheduler - INFO - base.py:245 - Scheduler has been shut down
2025-12-23 03:11:05,141 - aiogram.dispatcher - INFO - dispatcher.py:413 - Polling stopped for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:11:05,143 - deadline_bot - INFO - bot.py:2042 - Бот остановлен пользователем
2025-12-23 03:11:11,481 - deadline_bot - INFO - bot.py:82 - Загружено 1 администраторов
2025-12-23 03:11:11,989 - deadline_bot - INFO - logging_config.py:110 - ==================================================
2025-12-23 03:11:11,989 - deadline_bot - INFO - logging_config.py:111 - DEADLINE BOT STARTING UP
2025-12-23 03:11:11,989 - deadline_bot - INFO - logging_config.py:112 - ==================================================
2025-12-23 03:11:11,990 - deadline_bot - INFO - logging_config.py:113 - Database URL: sqlite:///../data/deadlines.db
2025-12-23 03:11:11,990 - deadline_bot - INFO - logging_config.py:114 - Telegram Bot Token: Configured
2025-12-23 03:11:11,990 - deadline_bot - INFO - logging_config.py:115 - Yonote API Key: Configured
2025-12-23 03:11:11,991 - deadline_bot - INFO - logging_config.py:116 - Update Interval: 30 minutes
2025-12-23 03:11:11,991 - deadline_bot - INFO - logging_config.py:117 - Log Level: INFO
2025-12-23 03:11:11,991 - deadline_bot - INFO - logging_config.py:118 - ==================================================
2025-12-23 03:11:11,991 - deadline_bot - INFO - bot.py:1985 - Инициализация базы данных...
2025-12-23 03:11:11,995 - deadline_bot - INFO - bot.py:1988 - База данных инициализирована
2025-12-23 03:11:11,997 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 03:11:11,997 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 03:11:11,998 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-23 03:11:11,999 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-23 03:11:11,999 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-23 03:11:11,999 - deadline_bot - INFO - bot.py:2022 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-23 03:11:12,000 - deadline_bot - INFO - bot.py:2025 - Запуск бота...
2025-12-23 03:11:12,000 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-23 03:11:12,223 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:11:12,888 - deadline_bot - INFO - bot.py:233 - Пользователь 929644995 зарегистрирован/обновлён
2025-12-23 03:11:12,888 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747445 is handled. Duration 247 ms by bot id=8358666814
2025-12-23 03:11:14,697 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747446 is handled. Duration 92 ms by bot id=8358666814
2025-12-23 03:15:31,963 - aiogram.dispatcher - INFO - dispatcher.py:624 - Polling stopped
2025-12-23 03:15:31,966 - aiogram.dispatcher - ERROR - dispatcher.py:225 - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-12-23 03:15:31,966 - aiogram.dispatcher - WARNING - dispatcher.py:227 - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8358666814)
2025-12-23 03:15:32,229 - deadline_bot - INFO - bot.py:2031 - Планировщик остановлен
2025-12-23 03:15:32,230 - apscheduler.scheduler - INFO - base.py:245 - Scheduler has been shut down
2025-12-23 03:15:32,231 - aiogram.dispatcher - INFO - dispatcher.py:413 - Polling stopped for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:15:32,232 - deadline_bot - INFO - bot.py:2038 - Бот остановлен пользователем
2025-12-23 03:15:39,223 - deadline_bot - INFO - bot.py:82 - Загружено 1 администраторов
2025-12-23 03:15:39,740 - deadline_bot - INFO - logging_config.py:110 - ==================================================
2025-12-23 03:15:39,741 - deadline_bot - INFO - logging_config.py:111 - DEADLINE BOT STARTING UP
2025-12-23 03:15:39,741 - deadline_bot - INFO - logging_config.py:112 - ==================================================
2025-12-23 03:15:39,741 - deadline_bot - INFO - logging_config.py:113 - Database URL: sqlite:///../data/deadlines.db
2025-12-23 03:15:39,742 - deadline_bot - INFO - logging_config.py:114 - Telegram Bot Token: Configured
2025-12-23 03:15:39,742 - deadline_bot - INFO - logging_config.py:115 - Yonote API Key: Configured
2025-12-23 03:15:39,742 - deadline_bot - INFO - logging_config.py:116 - Update Interval: 30 minutes
2025-12-23 03:15:39,742 - deadline_bot - INFO - logging_config.py:117 - Log Level: INFO
2025-12-23 03:15:39,743 - deadline_bot - INFO - logging_config.py:118 - ==================================================
2025-12-23 03:15:39,743 - deadline_bot - INFO - bot.py:1992 - Инициализация базы данных...
2025-12-23 03:15:39,747 - deadline_bot - INFO - bot.py:1995 - База данных инициализирована
2025-12-23 03:15:39,749 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 03:15:39,750 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 03:15:39,752 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-23 03:15:39,753 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-23 03:15:39,753 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-23 03:15:39,754 - deadline_bot - INFO - bot.py:2029 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-23 03:15:39,754 - deadline_bot - INFO - bot.py:2032 - Запуск бота...
2025-12-23 03:15:39,755 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-23 03:15:39,978 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:15:40,393 - deadline_bot - INFO - bot.py:233 - Пользователь 929644995 зарегистрирован/обновлён
2025-12-23 03:15:40,394 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747447 is handled. Duration 255 ms by bot id=8358666814
2025-12-23 03:15:41,641 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747448 is handled. Duration 99 ms by bot id=8358666814
2025-12-23 03:15:43,784 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747449 is handled. Duration 2 ms by bot id=8358666814
2025-12-23 03:16:21,939 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747450 is handled. Duration 2 ms by bot id=8358666814
2025-12-23 03:18:00,710 - aiogram.dispatcher - INFO - dispatcher.py:624 - Polling stopped
2025-12-23 03:18:00,712 - aiogram.dispatcher - ERROR - dispatcher.py:225 - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-12-23 03:18:00,713 - aiogram.dispatcher - WARNING - dispatcher.py:227 - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8358666814)
2025-12-23 03:18:00,972 - deadline_bot - INFO - bot.py:2038 - Планировщик остановлен
2025-12-23 03:18:00,973 - apscheduler.scheduler - INFO - base.py:245 - Scheduler has been shut down
2025-12-23 03:18:00,974 - aiogram.dispatcher - INFO - dispatcher.py:413 - Polling stopped for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:18:00,976 - deadline_bot - INFO - bot.py:2045 - Бот остановлен пользователем
2025-12-23 03:18:09,034 - deadline_bot - INFO - bot.py:82 - Загружено 1 администраторов
2025-12-23 03:18:09,634 - deadline_bot - INFO - logging_config.py:110 - ==================================================
2025-12-23 03:18:09,634 - deadline_bot - INFO - logging_config.py:111 - DEADLINE BOT STARTING UP
2025-12-23 03:18:09,635 - deadline_bot - INFO - logging_config.py:112 - ==================================================
2025-12-23 03:18:09,635 - deadline_bot - INFO - logging_config.py:113 - Database URL: sqlite:///../data/deadlines.db
2025-12-23 03:18:09,635 - deadline_bot - INFO - logging_config.py:114 - Telegram Bot Token: Configured
2025-12-23 03:18:09,636 - deadline_bot - INFO - logging_config.py:115 - Yonote API Key: Configured
2025-12-23 03:18:09,636 - deadline_bot - INFO - logging_config.py:116 - Update Interval: 30 minutes
2025-12-23 03:18:09,636 - deadline_bot - INFO - logging_config.py:117 - Log Level: INFO
2025-12-23 03:18:09,637 - deadline_bot - INFO - logging_config.py:118 - ==================================================
2025-12-23 03:18:09,637 - deadline_bot - INFO - bot.py:2017 - Инициализация базы данных...
2025-12-23 03:18:09,641 - deadline_bot - INFO - bot.py:2020 - База данных инициализирована
2025-12-23 03:18:09,642 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 03:18:09,643 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 03:18:09,644 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-23 03:18:09,645 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-23 03:18:09,645 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-23 03:18:09,646 - deadline_bot - INFO - bot.py:2054 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-23 03:18:09,646 - deadline_bot - INFO - bot.py:2057 - Запуск бота...
2025-12-23 03:18:09,647 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-23 03:18:09,865 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:18:13,286 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747451 is handled. Duration 245 ms by bot id=8358666814
2025-12-23 03:19:35,726 - aiogram.dispatcher - INFO - dispatcher.py:624 - Polling stopped
2025-12-23 03:19:35,727 - aiogram.dispatcher - ERROR - dispatcher.py:225 - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-12-23 03:19:35,728 - aiogram.dispatcher - WARNING - dispatcher.py:227 - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8358666814)
2025-12-23 03:19:35,980 - deadline_bot - INFO - bot.py:2063 - Планировщик остановлен
2025-12-23 03:19:35,980 - apscheduler.scheduler - INFO - base.py:245 - Scheduler has been shut down
2025-12-23 03:19:35,981 - aiogram.dispatcher - INFO - dispatcher.py:413 - Polling stopped for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:19:35,983 - deadline_bot - INFO - bot.py:2070 - Бот остановлен пользователем
2025-12-23 03:19:45,571 - deadline_bot - INFO - bot.py:82 - Загружено 1 администраторов
2025-12-23 03:19:46,208 - deadline_bot - INFO - logging_config.py:110 - ==================================================
2025-12-23 03:19:46,208 - deadline_bot - INFO - logging_config.py:111 - DEADLINE BOT STARTING UP
2025-12-23 03:19:46,208 - deadline_bot - INFO - logging_config.py:112 - ==================================================
2025-12-23 03:19:46,209 - deadline_bot - INFO - logging_config.py:113 - Database URL: sqlite:///../data/deadlines.db
2025-12-23 03:19:46,209 - deadline_bot - INFO - logging_config.py:114 - Telegram Bot Token: Configured
2025-12-23 03:19:46,209 - deadline_bot - INFO - logging_config.py:115 - Yonote API Key: Configured
2025-12-23 03:19:46,210 - deadline_bot - INFO - logging_config.py:116 - Update Interval: 30 minutes
2025-12-23 03:19:46,210 - deadline_bot - INFO - logging_config.py:117 - Log Level: INFO
2025-12-23 03:19:46,210 - deadline_bot - INFO - logging_config.py:118 - ==================================================
2025-12-23 03:19:46,210 - deadline_bot - INFO - bot.py:2038 - Инициализация базы данных...
2025-12-23 03:19:46,214 - deadline_bot - INFO - bot.py:2041 - База данных инициализирована
2025-12-23 03:19:46,216 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 03:19:46,217 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 03:19:46,219 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-23 03:19:46,220 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-23 03:19:46,220 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-23 03:19:46,221 - deadline_bot - INFO - bot.py:2075 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-23 03:19:46,221 - deadline_bot - INFO - bot.py:2078 - Запуск бота...
2025-12-23 03:19:46,222 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-23 03:19:46,437 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:19:52,743 - deadline_bot - INFO - bot.py:233 - Пользователь 929644995 зарегистрирован/обновлён
2025-12-23 03:19:52,744 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747452 is handled. Duration 244 ms by bot id=8358666814
2025-12-23 03:19:54,081 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747453 is handled. Duration 87 ms by bot id=8358666814
2025-12-23 03:19:55,273 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747454 is handled. Duration 83 ms by bot id=8358666814
2025-12-23 03:19:58,760 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747455 is handled. Duration 83 ms by bot id=8358666814
2025-12-23 03:20:00,995 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747456 is handled. Duration 84 ms by bot id=8358666814
2025-12-23 03:20:02,781 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747457 is handled. Duration 84 ms by bot id=8358666814
2025-12-23 03:20:04,301 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747458 is handled. Duration 83 ms by bot id=8358666814
2025-12-23 03:20:07,260 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747459 is handled. Duration 89 ms by bot id=8358666814
2025-12-23 03:22:03,011 - aiogram.dispatcher - INFO - dispatcher.py:624 - Polling stopped
2025-12-23 03:22:03,013 - aiogram.dispatcher - ERROR - dispatcher.py:225 - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-12-23 03:22:03,014 - aiogram.dispatcher - WARNING - dispatcher.py:227 - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8358666814)
2025-12-23 03:22:03,266 - deadline_bot - INFO - bot.py:2084 - Планировщик остановлен
2025-12-23 03:22:03,267 - apscheduler.scheduler - INFO - base.py:245 - Scheduler has been shut down
2025-12-23 03:22:03,268 - aiogram.dispatcher - INFO - dispatcher.py:413 - Polling stopped for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:22:03,273 - deadline_bot - INFO - bot.py:2091 - Бот остановлен пользователем
2025-12-23 03:22:10,553 - deadline_bot - INFO - bot.py:82 - Загружено 1 администраторов
2025-12-23 03:22:11,211 - deadline_bot - INFO - logging_config.py:110 - ==================================================
2025-12-23 03:22:11,212 - deadline_bot - INFO - logging_config.py:111 - DEADLINE BOT STARTING UP
2025-12-23 03:22:11,212 - deadline_bot - INFO - logging_config.py:112 - ==================================================
2025-12-23 03:22:11,212 - deadline_bot - INFO - logging_config.py:113 - Database URL: sqlite:///../data/deadlines.db
2025-12-23 03:22:11,213 - deadline_bot - INFO - logging_config.py:114 - Telegram Bot Token: Configured
2025-12-23 03:22:11,213 - deadline_bot - INFO - logging_config.py:115 - Yonote API Key: Configured
2025-12-23 03:22:11,213 - deadline_bot - INFO - logging_config.py:116 - Update Interval: 30 minutes
2025-12-23 03:22:11,213 - deadline_bot - INFO - logging_config.py:117 - Log Level: INFO
2025-12-23 03:22:11,214 - deadline_bot - INFO - logging_config.py:118 - ==================================================
2025-12-23 03:22:11,214 - deadline_bot - INFO - bot.py:2107 - Инициализация базы данных...
2025-12-23 03:22:11,218 - deadline_bot - INFO - bot.py:2110 - База данных инициализирована
2025-12-23 03:22:11,220 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 03:22:11,221 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 03:22:11,223 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-23 03:22:11,223 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-23 03:22:11,223 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-23 03:22:11,224 - deadline_bot - INFO - bot.py:2144 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-23 03:22:11,224 - deadline_bot - INFO - bot.py:2147 - Запуск бота...
2025-12-23 03:22:11,225 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-23 03:22:11,456 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:22:13,006 - deadline_bot - INFO - bot.py:233 - Пользователь 929644995 зарегистрирован/обновлён
2025-12-23 03:22:13,007 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747460 is handled. Duration 257 ms by bot id=8358666814
2025-12-23 03:22:16,084 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747461 is handled. Duration 88 ms by bot id=8358666814
2025-12-23 03:22:17,329 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747462 is handled. Duration 92 ms by bot id=8358666814
2025-12-23 03:22:18,478 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-23 03:22:18,479 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-23 03:22:18,697 - scripts.sync_deadlines - INFO - sync_deadlines.py:98 - Получено 3 дедлайнов из Yonote для пользователя 1
2025-12-23 03:22:18,707 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'Тест на жопу абобы': дата изменена с 2025-12-31 00:00:00 на 2025-12-31 00:00:00+00:00
2025-12-23 03:22:18,708 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: Тест на жопу абобы (ID: csv_-8630487)
2025-12-23 03:22:18,710 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'просто тест оповещения': дата изменена с 2025-12-16 16:45:00 на 2025-12-16 16:45:00+00:00
2025-12-23 03:22:18,710 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: просто тест оповещения (ID: csv_-2754484)
2025-12-23 03:22:18,712 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'стрей кидс': дата изменена с 2025-12-07 00:00:00 на 2025-12-07 00:00:00+00:00
2025-12-23 03:22:18,713 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: стрей кидс (ID: csv_-5342912)
2025-12-23 03:22:18,722 - scripts.sync_deadlines - INFO - sync_deadlines.py:221 - Синхронизировано дедлайнов для пользователя 1: создано 0, обновлено 3
2025-12-23 03:22:18,723 - deadline_bot - INFO - bot.py:1561 - Синхронизация для cmd_my_deadlines: создано 0, обновлено 3
2025-12-23 03:22:18,823 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747463 is handled. Duration 346 ms by bot id=8358666814
2025-12-23 03:24:39,868 - aiogram.dispatcher - INFO - dispatcher.py:624 - Polling stopped
2025-12-23 03:24:39,871 - aiogram.dispatcher - ERROR - dispatcher.py:225 - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-12-23 03:24:39,872 - aiogram.dispatcher - WARNING - dispatcher.py:227 - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8358666814)
2025-12-23 03:24:40,126 - deadline_bot - INFO - bot.py:2153 - Планировщик остановлен
2025-12-23 03:24:40,127 - apscheduler.scheduler - INFO - base.py:245 - Scheduler has been shut down
2025-12-23 03:24:40,128 - aiogram.dispatcher - INFO - dispatcher.py:413 - Polling stopped for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:24:40,130 - deadline_bot - INFO - bot.py:2160 - Бот остановлен пользователем
2025-12-23 03:24:47,810 - deadline_bot - INFO - bot.py:82 - Загружено 1 администраторов
2025-12-23 03:24:48,325 - deadline_bot - INFO - logging_config.py:110 - ==================================================
2025-12-23 03:24:48,325 - deadline_bot - INFO - logging_config.py:111 - DEADLINE BOT STARTING UP
2025-12-23 03:24:48,326 - deadline_bot - INFO - logging_config.py:112 - ==================================================
2025-12-23 03:24:48,326 - deadline_bot - INFO - logging_config.py:113 - Database URL: sqlite:///../data/deadlines.db
2025-12-23 03:24:48,326 - deadline_bot - INFO - logging_config.py:114 - Telegram Bot Token: Configured
2025-12-23 03:24:48,326 - deadline_bot - INFO - logging_config.py:115 - Yonote API Key: Configured
2025-12-23 03:24:48,327 - deadline_bot - INFO - logging_config.py:116 - Update Interval: 30 minutes
2025-12-23 03:24:48,327 - deadline_bot - INFO - logging_config.py:117 - Log Level: INFO
2025-12-23 03:24:48,327 - deadline_bot - INFO - logging_config.py:118 - ==================================================
2025-12-23 03:24:48,327 - deadline_bot - INFO - bot.py:2112 - Инициализация базы данных...
2025-12-23 03:24:48,332 - deadline_bot - INFO - bot.py:2115 - База данных инициализирована
2025-12-23 03:24:48,334 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 03:24:48,335 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 03:24:48,337 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-23 03:24:48,337 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-23 03:24:48,337 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-23 03:24:48,338 - deadline_bot - INFO - bot.py:2149 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-23 03:24:48,338 - deadline_bot - INFO - bot.py:2152 - Запуск бота...
2025-12-23 03:24:48,339 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-23 03:24:48,564 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:24:50,663 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-23 03:24:50,663 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-23 03:24:50,807 - scripts.sync_deadlines - INFO - sync_deadlines.py:98 - Получено 3 дедлайнов из Yonote для пользователя 1
2025-12-23 03:24:50,816 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'Тест на жопу абобы': дата изменена с 2025-12-31 00:00:00 на 2025-12-31 00:00:00+00:00
2025-12-23 03:24:50,817 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: Тест на жопу абобы (ID: csv_-2488248)
2025-12-23 03:24:50,819 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'просто тест оповещения': дата изменена с 2025-12-16 16:45:00 на 2025-12-16 16:45:00+00:00
2025-12-23 03:24:50,820 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: просто тест оповещения (ID: csv_45226929)
2025-12-23 03:24:50,823 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'стрей кидс': дата изменена с 2025-12-07 00:00:00 на 2025-12-07 00:00:00+00:00
2025-12-23 03:24:50,824 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: стрей кидс (ID: csv_75796133)
2025-12-23 03:24:50,830 - scripts.sync_deadlines - INFO - sync_deadlines.py:221 - Синхронизировано дедлайнов для пользователя 1: создано 0, обновлено 3
2025-12-23 03:24:50,831 - deadline_bot - INFO - bot.py:347 - Синхронизация для /my_deadlines: создано 0, обновлено 3
2025-12-23 03:24:50,923 - deadline_bot - INFO - bot.py:466 - Пользователь 929644995 запросил список дедлайнов: 1 шт.
2025-12-23 03:24:50,924 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747464 is handled. Duration 530 ms by bot id=8358666814
2025-12-23 03:25:00,726 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-23 03:25:00,726 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-23 03:25:00,867 - scripts.sync_deadlines - INFO - sync_deadlines.py:98 - Получено 3 дедлайнов из Yonote для пользователя 1
2025-12-23 03:25:00,872 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'Тест на жопу абобы': дата изменена с 2025-12-31 00:00:00 на 2025-12-31 00:00:00+00:00
2025-12-23 03:25:00,872 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: Тест на жопу абобы (ID: csv_-2488248)
2025-12-23 03:25:00,874 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'просто тест оповещения': дата изменена с 2025-12-16 16:45:00 на 2025-12-16 16:45:00+00:00
2025-12-23 03:25:00,875 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: просто тест оповещения (ID: csv_45226929)
2025-12-23 03:25:00,877 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'стрей кидс': дата изменена с 2025-12-07 00:00:00 на 2025-12-07 00:00:00+00:00
2025-12-23 03:25:00,878 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: стрей кидс (ID: csv_75796133)
2025-12-23 03:25:00,884 - scripts.sync_deadlines - INFO - sync_deadlines.py:221 - Синхронизировано дедлайнов для пользователя 1: создано 0, обновлено 3
2025-12-23 03:25:00,884 - deadline_bot - INFO - bot.py:1566 - Синхронизация для cmd_my_deadlines: создано 0, обновлено 3
2025-12-23 03:25:01,056 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747465 is handled. Duration 332 ms by bot id=8358666814
2025-12-23 03:25:05,651 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-23 03:25:05,653 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-23 03:25:05,775 - scripts.sync_deadlines - INFO - sync_deadlines.py:98 - Получено 3 дедлайнов из Yonote для пользователя 1
2025-12-23 03:25:05,778 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'Тест на жопу абобы': дата изменена с 2025-12-31 00:00:00 на 2025-12-31 00:00:00+00:00
2025-12-23 03:25:05,779 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: Тест на жопу абобы (ID: csv_-2488248)
2025-12-23 03:25:05,781 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'просто тест оповещения': дата изменена с 2025-12-16 16:45:00 на 2025-12-16 16:45:00+00:00
2025-12-23 03:25:05,782 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: просто тест оповещения (ID: csv_45226929)
2025-12-23 03:25:05,784 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'стрей кидс': дата изменена с 2025-12-07 00:00:00 на 2025-12-07 00:00:00+00:00
2025-12-23 03:25:05,784 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: стрей кидс (ID: csv_75796133)
2025-12-23 03:25:05,789 - scripts.sync_deadlines - INFO - sync_deadlines.py:221 - Синхронизировано дедлайнов для пользователя 1: создано 0, обновлено 3
2025-12-23 03:25:05,790 - deadline_bot - INFO - bot.py:1566 - Синхронизация для cmd_my_deadlines: создано 0, обновлено 3
2025-12-23 03:25:05,879 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747466 is handled. Duration 230 ms by bot id=8358666814
2025-12-23 03:25:11,035 - deadline_bot - INFO - bot.py:233 - Пользователь 929644995 зарегистрирован/обновлён
2025-12-23 03:25:11,035 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747467 is handled. Duration 90 ms by bot id=8358666814
2025-12-23 03:25:12,466 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-23 03:25:12,467 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-23 03:25:12,582 - scripts.sync_deadlines - INFO - sync_deadlines.py:98 - Получено 3 дедлайнов из Yonote для пользователя 1
2025-12-23 03:25:12,586 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'Тест на жопу абобы': дата изменена с 2025-12-31 00:00:00 на 2025-12-31 00:00:00+00:00
2025-12-23 03:25:12,586 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: Тест на жопу абобы (ID: csv_-2488248)
2025-12-23 03:25:12,589 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'просто тест оповещения': дата изменена с 2025-12-16 16:45:00 на 2025-12-16 16:45:00+00:00
2025-12-23 03:25:12,589 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: просто тест оповещения (ID: csv_45226929)
2025-12-23 03:25:12,591 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'стрей кидс': дата изменена с 2025-12-07 00:00:00 на 2025-12-07 00:00:00+00:00
2025-12-23 03:25:12,592 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: стрей кидс (ID: csv_75796133)
2025-12-23 03:25:12,597 - scripts.sync_deadlines - INFO - sync_deadlines.py:221 - Синхронизировано дедлайнов для пользователя 1: создано 0, обновлено 3
2025-12-23 03:25:12,597 - deadline_bot - INFO - bot.py:1566 - Синхронизация для cmd_my_deadlines: создано 0, обновлено 3
2025-12-23 03:25:12,694 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747468 is handled. Duration 229 ms by bot id=8358666814
2025-12-23 03:28:03,338 - aiogram.dispatcher - INFO - dispatcher.py:624 - Polling stopped
2025-12-23 03:28:03,339 - aiogram.dispatcher - ERROR - dispatcher.py:225 - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-12-23 03:28:03,340 - aiogram.dispatcher - WARNING - dispatcher.py:227 - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8358666814)
2025-12-23 03:28:03,594 - deadline_bot - INFO - bot.py:2158 - Планировщик остановлен
2025-12-23 03:28:03,595 - apscheduler.scheduler - INFO - base.py:245 - Scheduler has been shut down
2025-12-23 03:28:03,595 - aiogram.dispatcher - INFO - dispatcher.py:413 - Polling stopped for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:28:03,597 - deadline_bot - INFO - bot.py:2165 - Бот остановлен пользователем
2025-12-23 03:28:09,862 - deadline_bot - INFO - bot.py:82 - Загружено 1 администраторов
2025-12-23 03:28:10,391 - deadline_bot - INFO - logging_config.py:110 - ==================================================
2025-12-23 03:28:10,392 - deadline_bot - INFO - logging_config.py:111 - DEADLINE BOT STARTING UP
2025-12-23 03:28:10,392 - deadline_bot - INFO - logging_config.py:112 - ==================================================
2025-12-23 03:28:10,392 - deadline_bot - INFO - logging_config.py:113 - Database URL: sqlite:///../data/deadlines.db
2025-12-23 03:28:10,393 - deadline_bot - INFO - logging_config.py:114 - Telegram Bot Token: Configured
2025-12-23 03:28:10,393 - deadline_bot - INFO - logging_config.py:115 - Yonote API Key: Configured
2025-12-23 03:28:10,393 - deadline_bot - INFO - logging_config.py:116 - Update Interval: 30 minutes
2025-12-23 03:28:10,394 - deadline_bot - INFO - logging_config.py:117 - Log Level: INFO
2025-12-23 03:28:10,394 - deadline_bot - INFO - logging_config.py:118 - ==================================================
2025-12-23 03:28:10,394 - deadline_bot - INFO - bot.py:2117 - Инициализация базы данных...
2025-12-23 03:28:10,399 - deadline_bot - INFO - bot.py:2120 - База данных инициализирована
2025-12-23 03:28:10,401 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 03:28:10,402 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 03:28:10,404 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-23 03:28:10,405 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-23 03:28:10,405 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-23 03:28:10,406 - deadline_bot - INFO - bot.py:2154 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-23 03:28:10,406 - deadline_bot - INFO - bot.py:2157 - Запуск бота...
2025-12-23 03:28:10,407 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-23 03:28:10,620 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:28:13,710 - deadline_bot - INFO - bot.py:233 - Пользователь 929644995 зарегистрирован/обновлён
2025-12-23 03:28:13,711 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747469 is handled. Duration 246 ms by bot id=8358666814
2025-12-23 03:28:15,344 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747470 is handled. Duration 81 ms by bot id=8358666814
2025-12-23 03:28:16,751 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747471 is handled. Duration 88 ms by bot id=8358666814
2025-12-23 03:28:18,261 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-23 03:28:18,262 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-23 03:28:18,400 - scripts.sync_deadlines - INFO - sync_deadlines.py:98 - Получено 3 дедлайнов из Yonote для пользователя 1
2025-12-23 03:28:18,409 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'Тест на жопу абобы': дата изменена с 2025-12-31 00:00:00 на 2025-12-31 00:00:00+00:00
2025-12-23 03:28:18,409 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: Тест на жопу абобы (ID: csv_-6124781)
2025-12-23 03:28:18,413 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'просто тест оповещения': дата изменена с 2025-12-16 16:45:00 на 2025-12-16 16:45:00+00:00
2025-12-23 03:28:18,414 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: просто тест оповещения (ID: csv_71151906)
2025-12-23 03:28:18,417 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'стрей кидс': дата изменена с 2025-12-07 00:00:00 на 2025-12-07 00:00:00+00:00
2025-12-23 03:28:18,417 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: стрей кидс (ID: csv_59674563)
2025-12-23 03:28:18,424 - scripts.sync_deadlines - INFO - sync_deadlines.py:221 - Синхронизировано дедлайнов для пользователя 1: создано 0, обновлено 3
2025-12-23 03:28:18,425 - deadline_bot - INFO - bot.py:1566 - Синхронизация для cmd_my_deadlines: создано 0, обновлено 3
2025-12-23 03:28:18,517 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747472 is handled. Duration 257 ms by bot id=8358666814
2025-12-23 03:28:20,357 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747473 is handled. Duration 83 ms by bot id=8358666814
2025-12-23 03:28:22,045 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-23 03:28:22,046 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-23 03:28:22,228 - scripts.sync_deadlines - INFO - sync_deadlines.py:98 - Получено 3 дедлайнов из Yonote для пользователя 1
2025-12-23 03:28:22,233 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'Тест на жопу абобы': дата изменена с 2025-12-31 00:00:00 на 2025-12-31 00:00:00+00:00
2025-12-23 03:28:22,233 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: Тест на жопу абобы (ID: csv_-6124781)
2025-12-23 03:28:22,235 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'просто тест оповещения': дата изменена с 2025-12-16 16:45:00 на 2025-12-16 16:45:00+00:00
2025-12-23 03:28:22,236 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: просто тест оповещения (ID: csv_71151906)
2025-12-23 03:28:22,238 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'стрей кидс': дата изменена с 2025-12-07 00:00:00 на 2025-12-07 00:00:00+00:00
2025-12-23 03:28:22,239 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: стрей кидс (ID: csv_59674563)
2025-12-23 03:28:22,243 - scripts.sync_deadlines - INFO - sync_deadlines.py:221 - Синхронизировано дедлайнов для пользователя 1: создано 0, обновлено 3
2025-12-23 03:28:22,244 - deadline_bot - INFO - bot.py:1566 - Синхронизация для cmd_my_deadlines: создано 0, обновлено 3
2025-12-23 03:28:22,329 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747474 is handled. Duration 285 ms by bot id=8358666814
2025-12-23 03:28:23,760 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747475 is handled. Duration 84 ms by bot id=8358666814
2025-12-23 03:28:27,524 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747476 is handled. Duration 78 ms by bot id=8358666814
2025-12-23 03:28:37,129 - deadline_bot - ERROR - bot.py:1853 - Ошибка в обработчике настроек уведомлений: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
Traceback (most recent call last):
  File "C:\Users\vj\Documents\deadline_bot\bot.py", line 1518, in handle_notification_settings
    created, updated = await sync_user_deadlines(user)
                             ^^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'sync_user_deadlines' where it is not associated with a value

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\vj\Documents\deadline_bot\bot.py", line 1538, in handle_notification_settings
    await callback.message.edit_text(
    ...<2 lines>...
    )
  File "C:\Users\vj\Documents\deadline_bot\.venv\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\.venv\Lib\site-packages\aiogram\client\bot.py", line 485, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\.venv\Lib\site-packages\aiogram\client\session\base.py", line 259, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\.venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 177, in make_request
    response = self.check_response(
        bot=bot,
    ...<2 lines>...
        content=raw_result,
    )
  File "C:\Users\vj\Documents\deadline_bot\.venv\Lib\site-packages\aiogram\client\session\base.py", line 121, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-12-23 03:28:37,281 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747477 is handled. Duration 321 ms by bot id=8358666814
2025-12-23 03:29:37,202 - aiogram.dispatcher - INFO - dispatcher.py:624 - Polling stopped
2025-12-23 03:29:37,204 - aiogram.dispatcher - ERROR - dispatcher.py:225 - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-12-23 03:29:37,204 - aiogram.dispatcher - WARNING - dispatcher.py:227 - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8358666814)
2025-12-23 03:29:37,460 - deadline_bot - INFO - bot.py:2163 - Планировщик остановлен
2025-12-23 03:29:37,461 - apscheduler.scheduler - INFO - base.py:245 - Scheduler has been shut down
2025-12-23 03:29:37,462 - aiogram.dispatcher - INFO - dispatcher.py:413 - Polling stopped for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:29:37,464 - deadline_bot - INFO - bot.py:2170 - Бот остановлен пользователем
2025-12-23 03:29:50,946 - deadline_bot - INFO - bot.py:82 - Загружено 1 администраторов
2025-12-23 03:29:52,263 - deadline_bot - INFO - logging_config.py:110 - ==================================================
2025-12-23 03:29:52,264 - deadline_bot - INFO - logging_config.py:111 - DEADLINE BOT STARTING UP
2025-12-23 03:29:52,264 - deadline_bot - INFO - logging_config.py:112 - ==================================================
2025-12-23 03:29:52,265 - deadline_bot - INFO - logging_config.py:113 - Database URL: sqlite:///../data/deadlines.db
2025-12-23 03:29:52,265 - deadline_bot - INFO - logging_config.py:114 - Telegram Bot Token: Configured
2025-12-23 03:29:52,266 - deadline_bot - INFO - logging_config.py:115 - Yonote API Key: Configured
2025-12-23 03:29:52,266 - deadline_bot - INFO - logging_config.py:116 - Update Interval: 30 minutes
2025-12-23 03:29:52,276 - deadline_bot - INFO - logging_config.py:117 - Log Level: INFO
2025-12-23 03:29:52,277 - deadline_bot - INFO - logging_config.py:118 - ==================================================
2025-12-23 03:29:52,278 - deadline_bot - INFO - bot.py:2116 - Инициализация базы данных...
2025-12-23 03:29:52,290 - deadline_bot - INFO - bot.py:2119 - База данных инициализирована
2025-12-23 03:29:52,300 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 03:29:52,305 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 03:29:52,309 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-23 03:29:52,312 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-23 03:29:52,313 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-23 03:29:52,314 - deadline_bot - INFO - bot.py:2153 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-23 03:29:52,315 - deadline_bot - INFO - bot.py:2156 - Запуск бота...
2025-12-23 03:29:52,316 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-23 03:29:52,556 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:29:52,921 - deadline_bot - INFO - bot.py:233 - Пользователь 929644995 зарегистрирован/обновлён
2025-12-23 03:29:52,922 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747478 is handled. Duration 286 ms by bot id=8358666814
2025-12-23 03:29:54,947 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-23 03:29:54,948 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-23 03:29:55,097 - scripts.sync_deadlines - INFO - sync_deadlines.py:98 - Получено 3 дедлайнов из Yonote для пользователя 1
2025-12-23 03:29:55,112 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'Тест на жопу абобы': дата изменена с 2025-12-31 00:00:00 на 2025-12-31 00:00:00+00:00
2025-12-23 03:29:55,112 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: Тест на жопу абобы (ID: csv_84130440)
2025-12-23 03:29:55,116 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'просто тест оповещения': дата изменена с 2025-12-16 16:45:00 на 2025-12-16 16:45:00+00:00
2025-12-23 03:29:55,117 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: просто тест оповещения (ID: csv_-8559585)
2025-12-23 03:29:55,121 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'стрей кидс': дата изменена с 2025-12-07 00:00:00 на 2025-12-07 00:00:00+00:00
2025-12-23 03:29:55,121 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: стрей кидс (ID: csv_32476699)
2025-12-23 03:29:55,131 - scripts.sync_deadlines - INFO - sync_deadlines.py:221 - Синхронизировано дедлайнов для пользователя 1: создано 0, обновлено 3
2025-12-23 03:29:55,224 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747479 is handled. Duration 280 ms by bot id=8358666814
2025-12-23 03:29:59,167 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-23 03:29:59,167 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-23 03:29:59,315 - scripts.sync_deadlines - INFO - sync_deadlines.py:98 - Получено 3 дедлайнов из Yonote для пользователя 1
2025-12-23 03:29:59,320 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'Тест на жопу абобы': дата изменена с 2025-12-31 00:00:00 на 2025-12-31 00:00:00+00:00
2025-12-23 03:29:59,321 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: Тест на жопу абобы (ID: csv_84130440)
2025-12-23 03:29:59,325 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'просто тест оповещения': дата изменена с 2025-12-16 16:45:00 на 2025-12-16 16:45:00+00:00
2025-12-23 03:29:59,325 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: просто тест оповещения (ID: csv_-8559585)
2025-12-23 03:29:59,331 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'стрей кидс': дата изменена с 2025-12-07 00:00:00 на 2025-12-07 00:00:00+00:00
2025-12-23 03:29:59,331 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: стрей кидс (ID: csv_32476699)
2025-12-23 03:29:59,337 - scripts.sync_deadlines - INFO - sync_deadlines.py:221 - Синхронизировано дедлайнов для пользователя 1: создано 0, обновлено 3
2025-12-23 03:29:59,552 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747480 is handled. Duration 387 ms by bot id=8358666814
2025-12-23 03:30:08,683 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-23 03:30:08,683 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-23 03:30:08,827 - scripts.sync_deadlines - INFO - sync_deadlines.py:98 - Получено 3 дедлайнов из Yonote для пользователя 1
2025-12-23 03:30:08,834 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'Тест на жопу абобы': дата изменена с 2025-12-31 00:00:00 на 2025-12-31 00:00:00+00:00
2025-12-23 03:30:08,836 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: Тест на жопу абобы (ID: csv_84130440)
2025-12-23 03:30:08,839 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'просто тест оповещения': дата изменена с 2025-12-16 16:45:00 на 2025-12-16 16:45:00+00:00
2025-12-23 03:30:08,840 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: просто тест оповещения (ID: csv_-8559585)
2025-12-23 03:30:08,844 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'стрей кидс': дата изменена с 2025-12-07 00:00:00 на 2025-12-07 00:00:00+00:00
2025-12-23 03:30:08,844 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: стрей кидс (ID: csv_32476699)
2025-12-23 03:30:08,851 - scripts.sync_deadlines - INFO - sync_deadlines.py:221 - Синхронизировано дедлайнов для пользователя 1: создано 0, обновлено 3
2025-12-23 03:30:08,936 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747481 is handled. Duration 256 ms by bot id=8358666814
2025-12-23 03:31:35,362 - aiogram.dispatcher - INFO - dispatcher.py:624 - Polling stopped
2025-12-23 03:31:35,363 - aiogram.dispatcher - ERROR - dispatcher.py:225 - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-12-23 03:31:35,364 - aiogram.dispatcher - WARNING - dispatcher.py:227 - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8358666814)
2025-12-23 03:31:35,627 - deadline_bot - INFO - bot.py:2162 - Планировщик остановлен
2025-12-23 03:31:35,628 - apscheduler.scheduler - INFO - base.py:245 - Scheduler has been shut down
2025-12-23 03:31:35,628 - aiogram.dispatcher - INFO - dispatcher.py:413 - Polling stopped for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:31:35,630 - deadline_bot - INFO - bot.py:2169 - Бот остановлен пользователем
2025-12-23 03:31:42,522 - deadline_bot - INFO - bot.py:82 - Загружено 1 администраторов
2025-12-23 03:31:43,028 - deadline_bot - INFO - logging_config.py:110 - ==================================================
2025-12-23 03:31:43,028 - deadline_bot - INFO - logging_config.py:111 - DEADLINE BOT STARTING UP
2025-12-23 03:31:43,029 - deadline_bot - INFO - logging_config.py:112 - ==================================================
2025-12-23 03:31:43,029 - deadline_bot - INFO - logging_config.py:113 - Database URL: sqlite:///../data/deadlines.db
2025-12-23 03:31:43,029 - deadline_bot - INFO - logging_config.py:114 - Telegram Bot Token: Configured
2025-12-23 03:31:43,030 - deadline_bot - INFO - logging_config.py:115 - Yonote API Key: Configured
2025-12-23 03:31:43,030 - deadline_bot - INFO - logging_config.py:116 - Update Interval: 30 minutes
2025-12-23 03:31:43,030 - deadline_bot - INFO - logging_config.py:117 - Log Level: INFO
2025-12-23 03:31:43,031 - deadline_bot - INFO - logging_config.py:118 - ==================================================
2025-12-23 03:31:43,031 - deadline_bot - INFO - bot.py:2126 - Инициализация базы данных...
2025-12-23 03:31:43,038 - deadline_bot - INFO - bot.py:2129 - База данных инициализирована
2025-12-23 03:31:43,040 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 03:31:43,040 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 03:31:43,042 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-23 03:31:43,043 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-23 03:31:43,043 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-23 03:31:43,043 - deadline_bot - INFO - bot.py:2163 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-23 03:31:43,044 - deadline_bot - INFO - bot.py:2166 - Запуск бота...
2025-12-23 03:31:43,044 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-23 03:31:43,268 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:31:44,945 - deadline_bot - INFO - bot.py:233 - Пользователь 929644995 зарегистрирован/обновлён
2025-12-23 03:31:44,946 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747482 is handled. Duration 246 ms by bot id=8358666814
2025-12-23 03:31:45,986 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747483 is handled. Duration 83 ms by bot id=8358666814
2025-12-23 03:31:47,407 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747484 is handled. Duration 101 ms by bot id=8358666814
2025-12-23 03:31:49,039 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-23 03:31:49,039 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-23 03:31:49,179 - scripts.sync_deadlines - INFO - sync_deadlines.py:98 - Получено 3 дедлайнов из Yonote для пользователя 1
2025-12-23 03:31:49,187 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'Тест на жопу абобы': дата изменена с 2025-12-31 00:00:00 на 2025-12-31 00:00:00+00:00
2025-12-23 03:31:49,188 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: Тест на жопу абобы (ID: csv_63936828)
2025-12-23 03:31:49,190 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'просто тест оповещения': дата изменена с 2025-12-16 16:45:00 на 2025-12-16 16:45:00+00:00
2025-12-23 03:31:49,190 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: просто тест оповещения (ID: csv_-9061869)
2025-12-23 03:31:49,193 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'стрей кидс': дата изменена с 2025-12-07 00:00:00 на 2025-12-07 00:00:00+00:00
2025-12-23 03:31:49,193 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: стрей кидс (ID: csv_-6713140)
2025-12-23 03:31:49,200 - scripts.sync_deadlines - INFO - sync_deadlines.py:221 - Синхронизировано дедлайнов для пользователя 1: создано 0, обновлено 3
2025-12-23 03:31:49,279 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747485 is handled. Duration 242 ms by bot id=8358666814
2025-12-23 03:31:50,588 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747486 is handled. Duration 81 ms by bot id=8358666814
2025-12-23 03:31:51,568 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-23 03:31:51,568 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-23 03:31:51,707 - scripts.sync_deadlines - INFO - sync_deadlines.py:98 - Получено 3 дедлайнов из Yonote для пользователя 1
2025-12-23 03:31:51,711 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'Тест на жопу абобы': дата изменена с 2025-12-31 00:00:00 на 2025-12-31 00:00:00+00:00
2025-12-23 03:31:51,711 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: Тест на жопу абобы (ID: csv_63936828)
2025-12-23 03:31:51,714 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'просто тест оповещения': дата изменена с 2025-12-16 16:45:00 на 2025-12-16 16:45:00+00:00
2025-12-23 03:31:51,714 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: просто тест оповещения (ID: csv_-9061869)
2025-12-23 03:31:51,717 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'стрей кидс': дата изменена с 2025-12-07 00:00:00 на 2025-12-07 00:00:00+00:00
2025-12-23 03:31:51,717 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: стрей кидс (ID: csv_-6713140)
2025-12-23 03:31:51,721 - scripts.sync_deadlines - INFO - sync_deadlines.py:221 - Синхронизировано дедлайнов для пользователя 1: создано 0, обновлено 3
2025-12-23 03:31:51,722 - deadline_bot - INFO - bot.py:1575 - Синхронизация для cmd_my_deadlines: создано 0, обновлено 3
2025-12-23 03:31:51,918 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747487 is handled. Duration 351 ms by bot id=8358666814
2025-12-23 03:31:53,047 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747488 is handled. Duration 86 ms by bot id=8358666814
2025-12-23 03:31:54,218 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747489 is handled. Duration 90 ms by bot id=8358666814
2025-12-23 03:31:56,329 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747490 is handled. Duration 161 ms by bot id=8358666814
2025-12-23 03:32:03,960 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747491 is handled. Duration 84 ms by bot id=8358666814
2025-12-23 03:32:13,544 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747492 is handled. Duration 118 ms by bot id=8358666814
2025-12-23 03:34:22,209 - aiogram.dispatcher - INFO - dispatcher.py:624 - Polling stopped
2025-12-23 03:34:22,211 - aiogram.dispatcher - ERROR - dispatcher.py:225 - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-12-23 03:34:22,211 - aiogram.dispatcher - WARNING - dispatcher.py:227 - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8358666814)
2025-12-23 03:34:22,477 - deadline_bot - INFO - bot.py:2172 - Планировщик остановлен
2025-12-23 03:34:22,477 - apscheduler.scheduler - INFO - base.py:245 - Scheduler has been shut down
2025-12-23 03:34:22,478 - aiogram.dispatcher - INFO - dispatcher.py:413 - Polling stopped for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:34:22,480 - deadline_bot - INFO - bot.py:2179 - Бот остановлен пользователем
2025-12-23 03:34:28,773 - deadline_bot - INFO - bot.py:82 - Загружено 1 администраторов
2025-12-23 03:34:29,267 - deadline_bot - INFO - logging_config.py:110 - ==================================================
2025-12-23 03:34:29,268 - deadline_bot - INFO - logging_config.py:111 - DEADLINE BOT STARTING UP
2025-12-23 03:34:29,268 - deadline_bot - INFO - logging_config.py:112 - ==================================================
2025-12-23 03:34:29,268 - deadline_bot - INFO - logging_config.py:113 - Database URL: sqlite:///../data/deadlines.db
2025-12-23 03:34:29,268 - deadline_bot - INFO - logging_config.py:114 - Telegram Bot Token: Configured
2025-12-23 03:34:29,269 - deadline_bot - INFO - logging_config.py:115 - Yonote API Key: Configured
2025-12-23 03:34:29,269 - deadline_bot - INFO - logging_config.py:116 - Update Interval: 30 minutes
2025-12-23 03:34:29,269 - deadline_bot - INFO - logging_config.py:117 - Log Level: INFO
2025-12-23 03:34:29,269 - deadline_bot - INFO - logging_config.py:118 - ==================================================
2025-12-23 03:34:29,270 - deadline_bot - INFO - bot.py:2131 - Инициализация базы данных...
2025-12-23 03:34:29,275 - deadline_bot - INFO - bot.py:2134 - База данных инициализирована
2025-12-23 03:34:29,276 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 03:34:29,277 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 03:34:29,278 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-23 03:34:29,279 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-23 03:34:29,279 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-23 03:34:29,279 - deadline_bot - INFO - bot.py:2168 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-23 03:34:29,280 - deadline_bot - INFO - bot.py:2171 - Запуск бота...
2025-12-23 03:34:29,280 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-23 03:34:29,495 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:34:41,909 - deadline_bot - INFO - bot.py:233 - Пользователь 929644995 зарегистрирован/обновлён
2025-12-23 03:34:41,909 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747493 is handled. Duration 249 ms by bot id=8358666814
2025-12-23 03:34:44,192 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747494 is handled. Duration 95 ms by bot id=8358666814
2025-12-23 03:34:46,650 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747495 is handled. Duration 89 ms by bot id=8358666814
2025-12-23 03:34:48,671 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747496 is handled. Duration 88 ms by bot id=8358666814
2025-12-23 03:34:50,429 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747497 is handled. Duration 91 ms by bot id=8358666814
2025-12-23 03:34:51,160 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747498 is handled. Duration 90 ms by bot id=8358666814
2025-12-23 03:34:53,307 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747499 is handled. Duration 85 ms by bot id=8358666814
2025-12-23 03:35:10,610 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-23 03:35:10,610 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-23 03:35:10,744 - scripts.sync_deadlines - INFO - sync_deadlines.py:98 - Получено 3 дедлайнов из Yonote для пользователя 1
2025-12-23 03:35:10,753 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'Тест на жопу абобы': дата изменена с 2025-12-31 00:00:00 на 2025-12-31 00:00:00+00:00
2025-12-23 03:35:10,753 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: Тест на жопу абобы (ID: csv_-1338822)
2025-12-23 03:35:10,755 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'просто тест оповещения': дата изменена с 2025-12-16 16:45:00 на 2025-12-16 16:45:00+00:00
2025-12-23 03:35:10,756 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: просто тест оповещения (ID: csv_-7446230)
2025-12-23 03:35:10,758 - scripts.sync_deadlines - INFO - sync_deadlines.py:181 - Дедлайн 'стрей кидс': дата изменена с 2025-12-07 00:00:00 на 2025-12-07 00:00:00+00:00
2025-12-23 03:35:10,759 - scripts.sync_deadlines - INFO - sync_deadlines.py:197 - [OK] Обновлён дедлайн: стрей кидс (ID: csv_57546626)
2025-12-23 03:35:10,765 - scripts.sync_deadlines - INFO - sync_deadlines.py:221 - Синхронизировано дедлайнов для пользователя 1: создано 0, обновлено 3
2025-12-23 03:35:10,766 - deadline_bot - INFO - bot.py:347 - Синхронизация для /my_deadlines: создано 0, обновлено 3
2025-12-23 03:35:10,869 - deadline_bot - INFO - bot.py:466 - Пользователь 929644995 запросил список дедлайнов: 1 шт.
2025-12-23 03:35:10,870 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747500 is handled. Duration 340 ms by bot id=8358666814
2025-12-23 03:35:22,932 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747501 is handled. Duration 92 ms by bot id=8358666814
2025-12-23 03:35:26,461 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747502 is handled. Duration 95 ms by bot id=8358666814
2025-12-23 03:35:37,833 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747503 is handled. Duration 84 ms by bot id=8358666814
2025-12-23 03:35:42,988 - deadline_bot - INFO - bot.py:233 - Пользователь 929644995 зарегистрирован/обновлён
2025-12-23 03:35:42,989 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747504 is handled. Duration 96 ms by bot id=8358666814
2025-12-23 03:37:29,651 - aiogram.dispatcher - INFO - dispatcher.py:624 - Polling stopped
2025-12-23 03:37:29,653 - aiogram.dispatcher - ERROR - dispatcher.py:225 - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-12-23 03:37:29,653 - aiogram.dispatcher - WARNING - dispatcher.py:227 - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8358666814)
2025-12-23 03:37:29,919 - deadline_bot - INFO - bot.py:2177 - Планировщик остановлен
2025-12-23 03:37:29,919 - apscheduler.scheduler - INFO - base.py:245 - Scheduler has been shut down
2025-12-23 03:37:29,920 - aiogram.dispatcher - INFO - dispatcher.py:413 - Polling stopped for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:37:29,922 - deadline_bot - INFO - bot.py:2184 - Бот остановлен пользователем
2025-12-23 03:37:36,103 - deadline_bot - INFO - bot.py:82 - Загружено 1 администраторов
2025-12-23 03:37:36,606 - deadline_bot - INFO - logging_config.py:110 - ==================================================
2025-12-23 03:37:36,606 - deadline_bot - INFO - logging_config.py:111 - DEADLINE BOT STARTING UP
2025-12-23 03:37:36,607 - deadline_bot - INFO - logging_config.py:112 - ==================================================
2025-12-23 03:37:36,607 - deadline_bot - INFO - logging_config.py:113 - Database URL: sqlite:///../data/deadlines.db
2025-12-23 03:37:36,607 - deadline_bot - INFO - logging_config.py:114 - Telegram Bot Token: Configured
2025-12-23 03:37:36,607 - deadline_bot - INFO - logging_config.py:115 - Yonote API Key: Configured
2025-12-23 03:37:36,608 - deadline_bot - INFO - logging_config.py:116 - Update Interval: 30 minutes
2025-12-23 03:37:36,608 - deadline_bot - INFO - logging_config.py:117 - Log Level: INFO
2025-12-23 03:37:36,608 - deadline_bot - INFO - logging_config.py:118 - ==================================================
2025-12-23 03:37:36,608 - deadline_bot - INFO - bot.py:2135 - Инициализация базы данных...
2025-12-23 03:37:36,613 - deadline_bot - INFO - bot.py:2138 - База данных инициализирована
2025-12-23 03:37:36,615 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 03:37:36,616 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 03:37:36,617 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-23 03:37:36,618 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-23 03:37:36,618 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-23 03:37:36,618 - deadline_bot - INFO - bot.py:2172 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-23 03:37:36,619 - deadline_bot - INFO - bot.py:2175 - Запуск бота...
2025-12-23 03:37:36,619 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-23 03:37:36,835 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:37:41,320 - deadline_bot - INFO - bot.py:237 - Пользователь 929644995 зарегистрирован/обновлён
2025-12-23 03:37:41,320 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747505 is handled. Duration 246 ms by bot id=8358666814
2025-12-23 03:37:43,287 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747506 is handled. Duration 2 ms by bot id=8358666814
2025-12-23 03:40:28,656 - aiogram.dispatcher - INFO - dispatcher.py:624 - Polling stopped
2025-12-23 03:40:28,661 - aiogram.dispatcher - ERROR - dispatcher.py:225 - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-12-23 03:40:28,663 - aiogram.dispatcher - WARNING - dispatcher.py:227 - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8358666814)
2025-12-23 03:40:28,928 - deadline_bot - INFO - bot.py:2181 - Планировщик остановлен
2025-12-23 03:40:28,928 - apscheduler.scheduler - INFO - base.py:245 - Scheduler has been shut down
2025-12-23 03:40:28,929 - aiogram.dispatcher - INFO - dispatcher.py:413 - Polling stopped for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:40:28,931 - deadline_bot - INFO - bot.py:2188 - Бот остановлен пользователем
2025-12-23 03:40:34,957 - deadline_bot - INFO - bot.py:82 - Загружено 1 администраторов
2025-12-23 03:40:35,521 - deadline_bot - INFO - logging_config.py:110 - ==================================================
2025-12-23 03:40:35,523 - deadline_bot - INFO - logging_config.py:111 - DEADLINE BOT STARTING UP
2025-12-23 03:40:35,523 - deadline_bot - INFO - logging_config.py:112 - ==================================================
2025-12-23 03:40:35,524 - deadline_bot - INFO - logging_config.py:113 - Database URL: sqlite:///../data/deadlines.db
2025-12-23 03:40:35,524 - deadline_bot - INFO - logging_config.py:114 - Telegram Bot Token: Configured
2025-12-23 03:40:35,525 - deadline_bot - INFO - logging_config.py:115 - Yonote API Key: Configured
2025-12-23 03:40:35,525 - deadline_bot - INFO - logging_config.py:116 - Update Interval: 30 minutes
2025-12-23 03:40:35,526 - deadline_bot - INFO - logging_config.py:117 - Log Level: INFO
2025-12-23 03:40:35,527 - deadline_bot - INFO - logging_config.py:118 - ==================================================
2025-12-23 03:40:35,527 - deadline_bot - INFO - bot.py:2135 - Инициализация базы данных...
2025-12-23 03:40:35,535 - deadline_bot - INFO - bot.py:2138 - База данных инициализирована
2025-12-23 03:40:35,539 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 03:40:35,540 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-23 03:40:35,542 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-23 03:40:35,543 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-23 03:40:35,544 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-23 03:40:35,544 - deadline_bot - INFO - bot.py:2172 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-23 03:40:35,545 - deadline_bot - INFO - bot.py:2175 - Запуск бота...
2025-12-23 03:40:35,545 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-23 03:40:35,765 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:40:42,752 - deadline_bot - INFO - bot.py:237 - Пользователь 929644995 зарегистрирован/обновлён
2025-12-23 03:40:42,753 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747507 is handled. Duration 244 ms by bot id=8358666814
2025-12-23 03:40:43,743 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747508 is handled. Duration 2 ms by bot id=8358666814
2025-12-23 03:41:27,954 - aiogram.dispatcher - INFO - dispatcher.py:624 - Polling stopped
2025-12-23 03:41:27,955 - aiogram.dispatcher - ERROR - dispatcher.py:225 - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-12-23 03:41:27,956 - aiogram.dispatcher - WARNING - dispatcher.py:227 - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8358666814)
2025-12-23 03:41:28,222 - deadline_bot - INFO - bot.py:2181 - Планировщик остановлен
2025-12-23 03:41:28,223 - apscheduler.scheduler - INFO - base.py:245 - Scheduler has been shut down
2025-12-23 03:41:28,223 - aiogram.dispatcher - INFO - dispatcher.py:413 - Polling stopped for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-23 03:41:28,225 - deadline_bot - INFO - bot.py:2188 - Бот остановлен пользователем
2025-12-26 02:32:51,929 - deadline_bot - INFO - bot.py:86 - Загружено 1 администраторов
2025-12-26 02:32:52,582 - deadline_bot - INFO - logging_config.py:110 - ==================================================
2025-12-26 02:32:52,582 - deadline_bot - INFO - logging_config.py:111 - DEADLINE BOT STARTING UP
2025-12-26 02:32:52,583 - deadline_bot - INFO - logging_config.py:112 - ==================================================
2025-12-26 02:32:52,583 - deadline_bot - INFO - logging_config.py:113 - Database URL: sqlite:///../data/deadlines.db
2025-12-26 02:32:52,583 - deadline_bot - INFO - logging_config.py:114 - Telegram Bot Token: Configured
2025-12-26 02:32:52,584 - deadline_bot - INFO - logging_config.py:115 - Yonote API Key: Configured
2025-12-26 02:32:52,584 - deadline_bot - INFO - logging_config.py:116 - Update Interval: 30 minutes
2025-12-26 02:32:52,584 - deadline_bot - INFO - logging_config.py:117 - Log Level: INFO
2025-12-26 02:32:52,585 - deadline_bot - INFO - logging_config.py:118 - ==================================================
2025-12-26 02:32:52,585 - deadline_bot - INFO - bot.py:2375 - Инициализация базы данных...
2025-12-26 02:32:52,591 - deadline_bot - INFO - bot.py:2378 - База данных инициализирована
2025-12-26 02:32:52,594 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-26 02:32:52,595 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-26 02:32:52,598 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-26 02:32:52,598 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-26 02:32:52,599 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-26 02:32:52,599 - deadline_bot - INFO - bot.py:2412 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-26 02:32:52,600 - deadline_bot - INFO - bot.py:2415 - Запуск бота...
2025-12-26 02:32:52,600 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-26 02:32:52,862 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-26 02:33:14,775 - deadline_bot - INFO - bot.py:237 - Пользователь 929644995 зарегистрирован/обновлён
2025-12-26 02:33:14,775 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747575 is handled. Duration 271 ms by bot id=8358666814
2025-12-26 02:33:19,497 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-26 02:33:19,498 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-26 02:33:19,598 - scripts.sync_deadlines - ERROR - sync_deadlines.py:100 - Ошибка при получении дедлайнов из Yonote для пользователя 1: Ошибка при получении CSV: 400 - {"ok":false,"error":"validation_error","status":400,"message":"id must be a UUID"}
Traceback (most recent call last):
  File "C:\Users\vj\Documents\deadline_bot\scripts\sync_deadlines.py", line 97, in sync_user_deadlines
    yonote_deadlines = await fetch_user_deadlines(user_identifier)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\scripts\yonote_client.py", line 780, in fetch_user_deadlines
    raw = await client.fetch_deadlines_raw()  # CSV API не принимает user в параметрах
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\scripts\yonote_client.py", line 671, in fetch_deadlines_raw
    raise YonoteClientError(f"Ошибка при получении CSV: {resp.status} - {text}")
scripts.yonote_client.YonoteClientError: Ошибка при получении CSV: 400 - {"ok":false,"error":"validation_error","status":400,"message":"id must be a UUID"}
2025-12-26 02:33:19,605 - deadline_bot - INFO - bot.py:351 - Синхронизация для /my_deadlines: создано 0, обновлено 0
2025-12-26 02:33:19,721 - deadline_bot - INFO - bot.py:497 - Пользователь 929644995 запросил список дедлайнов: 1 шт.
2025-12-26 02:33:19,722 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747576 is handled. Duration 311 ms by bot id=8358666814
2025-12-26 02:33:28,046 - deadline_bot - INFO - bot.py:1430 - Пользователь 929644995 запросил проверку дедлайна 2
2025-12-26 02:33:28,047 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747577 is handled. Duration 175 ms by bot id=8358666814
2025-12-26 02:33:31,827 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-26 02:33:31,828 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-26 02:33:31,927 - scripts.sync_deadlines - ERROR - sync_deadlines.py:100 - Ошибка при получении дедлайнов из Yonote для пользователя 1: Ошибка при получении CSV: 400 - {"ok":false,"error":"validation_error","status":400,"message":"id must be a UUID"}
Traceback (most recent call last):
  File "C:\Users\vj\Documents\deadline_bot\scripts\sync_deadlines.py", line 97, in sync_user_deadlines
    yonote_deadlines = await fetch_user_deadlines(user_identifier)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\scripts\yonote_client.py", line 780, in fetch_user_deadlines
    raw = await client.fetch_deadlines_raw()  # CSV API не принимает user в параметрах
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\scripts\yonote_client.py", line 671, in fetch_deadlines_raw
    raise YonoteClientError(f"Ошибка при получении CSV: {resp.status} - {text}")
scripts.yonote_client.YonoteClientError: Ошибка при получении CSV: 400 - {"ok":false,"error":"validation_error","status":400,"message":"id must be a UUID"}
2025-12-26 02:33:31,931 - deadline_bot - INFO - bot.py:351 - Синхронизация для /my_deadlines: создано 0, обновлено 0
2025-12-26 02:33:32,025 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747578 is handled. Duration 286 ms by bot id=8358666814
2025-12-26 02:33:37,790 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-26 02:33:37,791 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-26 02:33:37,884 - scripts.sync_deadlines - ERROR - sync_deadlines.py:100 - Ошибка при получении дедлайнов из Yonote для пользователя 1: Ошибка при получении CSV: 400 - {"ok":false,"error":"validation_error","status":400,"message":"id must be a UUID"}
Traceback (most recent call last):
  File "C:\Users\vj\Documents\deadline_bot\scripts\sync_deadlines.py", line 97, in sync_user_deadlines
    yonote_deadlines = await fetch_user_deadlines(user_identifier)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\scripts\yonote_client.py", line 780, in fetch_user_deadlines
    raw = await client.fetch_deadlines_raw()  # CSV API не принимает user в параметрах
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\scripts\yonote_client.py", line 671, in fetch_deadlines_raw
    raise YonoteClientError(f"Ошибка при получении CSV: {resp.status} - {text}")
scripts.yonote_client.YonoteClientError: Ошибка при получении CSV: 400 - {"ok":false,"error":"validation_error","status":400,"message":"id must be a UUID"}
2025-12-26 02:33:37,887 - deadline_bot - INFO - bot.py:615 - Проверка уведомлений после ручной синхронизации для пользователя 1
2025-12-26 02:33:37,903 - notifications - INFO - notifications.py:392 - Проверка уведомлений завершена: пользователей уведомлено 0, отправлено уведомлений 0
2025-12-26 02:33:37,992 - deadline_bot - INFO - bot.py:634 - Пользователь 929644995 выполнил ручную синхронизацию: создано 0, обновлено 0
2025-12-26 02:33:37,993 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747579 is handled. Duration 287 ms by bot id=8358666814
2025-12-26 02:33:42,408 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-26 02:33:42,408 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-26 02:33:42,510 - scripts.sync_deadlines - ERROR - sync_deadlines.py:100 - Ошибка при получении дедлайнов из Yonote для пользователя 1: Ошибка при получении CSV: 400 - {"ok":false,"error":"validation_error","status":400,"message":"id must be a UUID"}
Traceback (most recent call last):
  File "C:\Users\vj\Documents\deadline_bot\scripts\sync_deadlines.py", line 97, in sync_user_deadlines
    yonote_deadlines = await fetch_user_deadlines(user_identifier)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\scripts\yonote_client.py", line 780, in fetch_user_deadlines
    raw = await client.fetch_deadlines_raw()  # CSV API не принимает user в параметрах
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\scripts\yonote_client.py", line 671, in fetch_deadlines_raw
    raise YonoteClientError(f"Ошибка при получении CSV: {resp.status} - {text}")
scripts.yonote_client.YonoteClientError: Ошибка при получении CSV: 400 - {"ok":false,"error":"validation_error","status":400,"message":"id must be a UUID"}
2025-12-26 02:33:42,513 - deadline_bot - INFO - bot.py:351 - Синхронизация для /my_deadlines: создано 0, обновлено 0
2025-12-26 02:33:42,608 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747580 is handled. Duration 296 ms by bot id=8358666814
2025-12-26 02:33:49,823 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747581 is handled. Duration 93 ms by bot id=8358666814
2025-12-26 02:34:48,633 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747582 is handled. Duration 83 ms by bot id=8358666814
2025-12-26 02:35:31,036 - aiogram.dispatcher - INFO - dispatcher.py:624 - Polling stopped
2025-12-26 02:35:31,039 - aiogram.dispatcher - ERROR - dispatcher.py:225 - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-12-26 02:35:31,040 - aiogram.dispatcher - WARNING - dispatcher.py:227 - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8358666814)
2025-12-26 02:35:31,305 - deadline_bot - INFO - bot.py:2421 - Планировщик остановлен
2025-12-26 02:35:31,305 - apscheduler.scheduler - INFO - base.py:245 - Scheduler has been shut down
2025-12-26 02:35:31,307 - aiogram.dispatcher - INFO - dispatcher.py:413 - Polling stopped for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-26 02:35:31,309 - deadline_bot - INFO - bot.py:2428 - Бот остановлен пользователем
2025-12-26 02:35:40,027 - deadline_bot - INFO - bot.py:86 - Загружено 2 администраторов
2025-12-26 02:35:40,592 - deadline_bot - INFO - logging_config.py:110 - ==================================================
2025-12-26 02:35:40,592 - deadline_bot - INFO - logging_config.py:111 - DEADLINE BOT STARTING UP
2025-12-26 02:35:40,592 - deadline_bot - INFO - logging_config.py:112 - ==================================================
2025-12-26 02:35:40,593 - deadline_bot - INFO - logging_config.py:113 - Database URL: sqlite:///../data/deadlines.db
2025-12-26 02:35:40,593 - deadline_bot - INFO - logging_config.py:114 - Telegram Bot Token: Configured
2025-12-26 02:35:40,593 - deadline_bot - INFO - logging_config.py:115 - Yonote API Key: Configured
2025-12-26 02:35:40,594 - deadline_bot - INFO - logging_config.py:116 - Update Interval: 30 minutes
2025-12-26 02:35:40,594 - deadline_bot - INFO - logging_config.py:117 - Log Level: INFO
2025-12-26 02:35:40,594 - deadline_bot - INFO - logging_config.py:118 - ==================================================
2025-12-26 02:35:40,594 - deadline_bot - INFO - bot.py:2375 - Инициализация базы данных...
2025-12-26 02:35:40,599 - deadline_bot - INFO - bot.py:2378 - База данных инициализирована
2025-12-26 02:35:40,601 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-26 02:35:40,602 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-26 02:35:40,605 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-26 02:35:40,606 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-26 02:35:40,607 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-26 02:35:40,608 - deadline_bot - INFO - bot.py:2412 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-26 02:35:40,608 - deadline_bot - INFO - bot.py:2415 - Запуск бота...
2025-12-26 02:35:40,609 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-26 02:35:40,838 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-26 02:35:42,744 - deadline_bot - INFO - bot.py:760 - Администратор 929644995 запросил список подписанных: найдено 1 пользователей
2025-12-26 02:35:42,744 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747583 is handled. Duration 252 ms by bot id=8358666814
2025-12-26 02:35:44,800 - deadline_bot - ERROR - bot.py:1173 - Ошибка в команде /verify_deadlines: Parent instance <DeadlineVerification at 0x28d4004c590> is not bound to a Session; lazy load operation of attribute 'deadline' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Users\vj\Documents\deadline_bot\bot.py", line 1127, in cmd_verify_deadlines
    deadline = verification.deadline
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\venv\Lib\site-packages\sqlalchemy\orm\attributes.py", line 569, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\venv\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1096, in get
    value = self._fire_loader_callables(state, key, passive)
  File "C:\Users\vj\Documents\deadline_bot\venv\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1131, in _fire_loader_callables
    return self.callable_(state, passive)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\venv\Lib\site-packages\sqlalchemy\orm\strategies.py", line 922, in _load_for_state
    raise orm_exc.DetachedInstanceError(
    ...<3 lines>...
    )
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <DeadlineVerification at 0x28d4004c590> is not bound to a Session; lazy load operation of attribute 'deadline' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
2025-12-26 02:35:44,954 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747584 is handled. Duration 164 ms by bot id=8358666814
2025-12-26 02:35:46,361 - deadline_bot - ERROR - bot.py:1173 - Ошибка в команде /verify_deadlines: Parent instance <DeadlineVerification at 0x28d4002a0d0> is not bound to a Session; lazy load operation of attribute 'deadline' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Users\vj\Documents\deadline_bot\bot.py", line 1127, in cmd_verify_deadlines
    deadline = verification.deadline
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\venv\Lib\site-packages\sqlalchemy\orm\attributes.py", line 569, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\venv\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1096, in get
    value = self._fire_loader_callables(state, key, passive)
  File "C:\Users\vj\Documents\deadline_bot\venv\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1131, in _fire_loader_callables
    return self.callable_(state, passive)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\venv\Lib\site-packages\sqlalchemy\orm\strategies.py", line 922, in _load_for_state
    raise orm_exc.DetachedInstanceError(
    ...<3 lines>...
    )
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <DeadlineVerification at 0x28d4002a0d0> is not bound to a Session; lazy load operation of attribute 'deadline' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
2025-12-26 02:35:46,635 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747585 is handled. Duration 276 ms by bot id=8358666814
2025-12-26 02:36:45,385 - aiogram.dispatcher - INFO - dispatcher.py:624 - Polling stopped
2025-12-26 02:36:45,387 - aiogram.dispatcher - ERROR - dispatcher.py:225 - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-12-26 02:36:45,388 - aiogram.dispatcher - WARNING - dispatcher.py:227 - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8358666814)
2025-12-26 02:36:45,654 - deadline_bot - INFO - bot.py:2421 - Планировщик остановлен
2025-12-26 02:36:45,654 - apscheduler.scheduler - INFO - base.py:245 - Scheduler has been shut down
2025-12-26 02:36:45,655 - aiogram.dispatcher - INFO - dispatcher.py:413 - Polling stopped for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-26 02:36:45,657 - deadline_bot - INFO - bot.py:2428 - Бот остановлен пользователем
2025-12-26 02:36:51,895 - deadline_bot - INFO - bot.py:86 - Загружено 2 администраторов
2025-12-26 02:36:52,472 - deadline_bot - INFO - logging_config.py:110 - ==================================================
2025-12-26 02:36:52,473 - deadline_bot - INFO - logging_config.py:111 - DEADLINE BOT STARTING UP
2025-12-26 02:36:52,473 - deadline_bot - INFO - logging_config.py:112 - ==================================================
2025-12-26 02:36:52,474 - deadline_bot - INFO - logging_config.py:113 - Database URL: sqlite:///../data/deadlines.db
2025-12-26 02:36:52,474 - deadline_bot - INFO - logging_config.py:114 - Telegram Bot Token: Configured
2025-12-26 02:36:52,475 - deadline_bot - INFO - logging_config.py:115 - Yonote API Key: Configured
2025-12-26 02:36:52,475 - deadline_bot - INFO - logging_config.py:116 - Update Interval: 30 minutes
2025-12-26 02:36:52,476 - deadline_bot - INFO - logging_config.py:117 - Log Level: INFO
2025-12-26 02:36:52,476 - deadline_bot - INFO - logging_config.py:118 - ==================================================
2025-12-26 02:36:52,477 - deadline_bot - INFO - bot.py:2375 - Инициализация базы данных...
2025-12-26 02:36:52,482 - deadline_bot - INFO - bot.py:2378 - База данных инициализирована
2025-12-26 02:36:52,484 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-26 02:36:52,485 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-26 02:36:52,486 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-26 02:36:52,487 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-26 02:36:52,487 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-26 02:36:52,488 - deadline_bot - INFO - bot.py:2412 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-26 02:36:52,488 - deadline_bot - INFO - bot.py:2415 - Запуск бота...
2025-12-26 02:36:52,489 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-26 02:36:52,705 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-26 02:36:56,315 - deadline_bot - ERROR - bot.py:1173 - Ошибка в команде /verify_deadlines: Telegram server says - Bad Request: can't parse entities: Can't find end of the entity starting at byte offset 257
Traceback (most recent call last):
  File "C:\Users\vj\Documents\deadline_bot\bot.py", line 1162, in cmd_verify_deadlines
    await message.answer(
    ...<3 lines>...
    )
  File "C:\Users\vj\Documents\deadline_bot\venv\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\venv\Lib\site-packages\aiogram\client\bot.py", line 485, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\venv\Lib\site-packages\aiogram\client\session\base.py", line 259, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 177, in make_request
    response = self.check_response(
        bot=bot,
    ...<2 lines>...
        content=raw_result,
    )
  File "C:\Users\vj\Documents\deadline_bot\venv\Lib\site-packages\aiogram\client\session\base.py", line 121, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: can't parse entities: Can't find end of the entity starting at byte offset 257
2025-12-26 02:36:56,524 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747586 is handled. Duration 466 ms by bot id=8358666814
2025-12-26 02:37:55,682 - aiogram.dispatcher - INFO - dispatcher.py:624 - Polling stopped
2025-12-26 02:37:55,684 - aiogram.dispatcher - ERROR - dispatcher.py:225 - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-12-26 02:37:55,684 - aiogram.dispatcher - WARNING - dispatcher.py:227 - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8358666814)
2025-12-26 02:37:55,937 - deadline_bot - INFO - bot.py:2421 - Планировщик остановлен
2025-12-26 02:37:55,938 - apscheduler.scheduler - INFO - base.py:245 - Scheduler has been shut down
2025-12-26 02:37:55,939 - aiogram.dispatcher - INFO - dispatcher.py:413 - Polling stopped for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-26 02:37:55,943 - deadline_bot - INFO - bot.py:2428 - Бот остановлен пользователем
2025-12-26 02:38:02,704 - deadline_bot - INFO - bot.py:86 - Загружено 2 администраторов
2025-12-26 02:38:03,299 - deadline_bot - INFO - logging_config.py:110 - ==================================================
2025-12-26 02:38:03,300 - deadline_bot - INFO - logging_config.py:111 - DEADLINE BOT STARTING UP
2025-12-26 02:38:03,300 - deadline_bot - INFO - logging_config.py:112 - ==================================================
2025-12-26 02:38:03,300 - deadline_bot - INFO - logging_config.py:113 - Database URL: sqlite:///../data/deadlines.db
2025-12-26 02:38:03,300 - deadline_bot - INFO - logging_config.py:114 - Telegram Bot Token: Configured
2025-12-26 02:38:03,301 - deadline_bot - INFO - logging_config.py:115 - Yonote API Key: Configured
2025-12-26 02:38:03,301 - deadline_bot - INFO - logging_config.py:116 - Update Interval: 30 minutes
2025-12-26 02:38:03,301 - deadline_bot - INFO - logging_config.py:117 - Log Level: INFO
2025-12-26 02:38:03,301 - deadline_bot - INFO - logging_config.py:118 - ==================================================
2025-12-26 02:38:03,302 - deadline_bot - INFO - bot.py:2411 - Инициализация базы данных...
2025-12-26 02:38:03,306 - deadline_bot - INFO - bot.py:2414 - База данных инициализирована
2025-12-26 02:38:03,308 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-26 02:38:03,308 - apscheduler.scheduler - INFO - base.py:507 - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-12-26 02:38:03,310 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Синхронизация дедлайнов из Yonote и проверка уведомлений" to job store "default"
2025-12-26 02:38:03,310 - apscheduler.scheduler - INFO - base.py:1090 - Added job "Очистка просроченных дедлайнов" to job store "default"
2025-12-26 02:38:03,310 - apscheduler.scheduler - INFO - base.py:214 - Scheduler started
2025-12-26 02:38:03,311 - deadline_bot - INFO - bot.py:2448 - Планировщик запущен: синхронизация и проверка уведомлений каждые 30 мин, очистка просроченных раз в день
2025-12-26 02:38:03,311 - deadline_bot - INFO - bot.py:2451 - Запуск бота...
2025-12-26 02:38:03,312 - aiogram.dispatcher - INFO - dispatcher.py:596 - Start polling
2025-12-26 02:38:03,533 - aiogram.dispatcher - INFO - dispatcher.py:378 - Run polling for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-26 02:38:11,521 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747587 is handled. Duration 354 ms by bot id=8358666814
2025-12-26 02:38:17,903 - deadline_bot - ERROR - bot.py:1436 - Ошибка при обработке проверки: Telegram server says - Bad Request: can't parse entities: Can't find end of the entity starting at byte offset 253
Traceback (most recent call last):
  File "C:\Users\vj\Documents\deadline_bot\bot.py", line 1399, in handle_verification_action
    await callback.message.edit_text(
    ...<2 lines>...
    )
  File "C:\Users\vj\Documents\deadline_bot\venv\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\venv\Lib\site-packages\aiogram\client\bot.py", line 485, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\venv\Lib\site-packages\aiogram\client\session\base.py", line 259, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 177, in make_request
    response = self.check_response(
        bot=bot,
    ...<2 lines>...
        content=raw_result,
    )
  File "C:\Users\vj\Documents\deadline_bot\venv\Lib\site-packages\aiogram\client\session\base.py", line 121, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: can't parse entities: Can't find end of the entity starting at byte offset 253
2025-12-26 02:38:17,989 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747588 is handled. Duration 264 ms by bot id=8358666814
2025-12-26 02:38:29,241 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-26 02:38:29,242 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-26 02:38:29,348 - scripts.sync_deadlines - ERROR - sync_deadlines.py:100 - Ошибка при получении дедлайнов из Yonote для пользователя 1: Ошибка при получении CSV: 400 - {"ok":false,"error":"validation_error","status":400,"message":"id must be a UUID"}
Traceback (most recent call last):
  File "C:\Users\vj\Documents\deadline_bot\scripts\sync_deadlines.py", line 97, in sync_user_deadlines
    yonote_deadlines = await fetch_user_deadlines(user_identifier)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\scripts\yonote_client.py", line 780, in fetch_user_deadlines
    raw = await client.fetch_deadlines_raw()  # CSV API не принимает user в параметрах
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\scripts\yonote_client.py", line 671, in fetch_deadlines_raw
    raise YonoteClientError(f"Ошибка при получении CSV: {resp.status} - {text}")
scripts.yonote_client.YonoteClientError: Ошибка при получении CSV: 400 - {"ok":false,"error":"validation_error","status":400,"message":"id must be a UUID"}
2025-12-26 02:38:29,357 - deadline_bot - INFO - bot.py:351 - Синхронизация для /my_deadlines: создано 0, обновлено 0
2025-12-26 02:38:29,464 - deadline_bot - INFO - bot.py:497 - Пользователь 929644995 запросил список дедлайнов: 1 шт.
2025-12-26 02:38:29,464 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747589 is handled. Duration 308 ms by bot id=8358666814
2025-12-26 02:38:33,008 - deadline_bot - INFO - bot.py:1466 - Пользователь 929644995 запросил проверку дедлайна 2
2025-12-26 02:38:33,009 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747590 is handled. Duration 175 ms by bot id=8358666814
2025-12-26 02:38:35,963 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747591 is handled. Duration 182 ms by bot id=8358666814
2025-12-26 02:38:51,186 - deadline_bot - ERROR - bot.py:1436 - Ошибка при обработке проверки: Telegram server says - Bad Request: can't parse entities: Can't find end of the entity starting at byte offset 253
Traceback (most recent call last):
  File "C:\Users\vj\Documents\deadline_bot\bot.py", line 1363, in handle_verification_action
    await callback.message.edit_text(
    ...<2 lines>...
    )
  File "C:\Users\vj\Documents\deadline_bot\venv\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\venv\Lib\site-packages\aiogram\client\bot.py", line 485, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\venv\Lib\site-packages\aiogram\client\session\base.py", line 259, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 177, in make_request
    response = self.check_response(
        bot=bot,
    ...<2 lines>...
        content=raw_result,
    )
  File "C:\Users\vj\Documents\deadline_bot\venv\Lib\site-packages\aiogram\client\session\base.py", line 121, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: can't parse entities: Can't find end of the entity starting at byte offset 253
2025-12-26 02:38:51,262 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747592 is handled. Duration 224 ms by bot id=8358666814
2025-12-26 02:38:52,900 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747593 is handled. Duration 91 ms by bot id=8358666814
2025-12-26 02:38:57,119 - scripts.sync_deadlines - INFO - sync_deadlines.py:92 - Синхронизация для пользователя 1 по нику: VJ_Games
2025-12-26 02:38:57,119 - scripts.sync_deadlines - INFO - sync_deadlines.py:96 - Запрос дедлайнов из Yonote для идентификатора: VJ_Games
2025-12-26 02:38:57,246 - scripts.sync_deadlines - ERROR - sync_deadlines.py:100 - Ошибка при получении дедлайнов из Yonote для пользователя 1: Ошибка при получении CSV: 400 - {"ok":false,"error":"validation_error","status":400,"message":"id must be a UUID"}
Traceback (most recent call last):
  File "C:\Users\vj\Documents\deadline_bot\scripts\sync_deadlines.py", line 97, in sync_user_deadlines
    yonote_deadlines = await fetch_user_deadlines(user_identifier)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\scripts\yonote_client.py", line 780, in fetch_user_deadlines
    raw = await client.fetch_deadlines_raw()  # CSV API не принимает user в параметрах
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\vj\Documents\deadline_bot\scripts\yonote_client.py", line 671, in fetch_deadlines_raw
    raise YonoteClientError(f"Ошибка при получении CSV: {resp.status} - {text}")
scripts.yonote_client.YonoteClientError: Ошибка при получении CSV: 400 - {"ok":false,"error":"validation_error","status":400,"message":"id must be a UUID"}
2025-12-26 02:38:57,249 - deadline_bot - INFO - bot.py:351 - Синхронизация для /my_deadlines: создано 0, обновлено 0
2025-12-26 02:38:57,342 - aiogram.event - INFO - dispatcher.py:178 - Update id=980747594 is handled. Duration 328 ms by bot id=8358666814
2025-12-26 02:39:06,024 - aiogram.dispatcher - INFO - dispatcher.py:624 - Polling stopped
2025-12-26 02:39:06,025 - aiogram.dispatcher - ERROR - dispatcher.py:225 - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-12-26 02:39:06,026 - aiogram.dispatcher - WARNING - dispatcher.py:227 - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8358666814)
2025-12-26 02:39:06,283 - deadline_bot - INFO - bot.py:2457 - Планировщик остановлен
2025-12-26 02:39:06,283 - apscheduler.scheduler - INFO - base.py:245 - Scheduler has been shut down
2025-12-26 02:39:06,284 - aiogram.dispatcher - INFO - dispatcher.py:413 - Polling stopped for bot @uni_dline_bot id=8358666814 - 'Unikey Group Deadlines'
2025-12-26 02:39:06,286 - deadline_bot - INFO - bot.py:2464 - Бот остановлен пользователем
